(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-199e55ca"],{2901:function(a,s,t){"use strict";t.r(s);var e=function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("Layout",{attrs:{dark:"mo"===a.$mq}},["de"===a.$mq?e("a",{staticClass:"fixed left-0 top-0 ml-6 mt-6",attrs:{href:"#"}},[e("figure",[e("img",{staticClass:"w-22",attrs:{src:t("b595"),alt:"Chain"}})])]):a._e(),e("LoginDefineNewPassword")],1)},o=[],r=t("8fe3"),i=function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"flex-grow flex flex-col text-white de:text-black p-4 de:p-0"},[e("MqLayout",{staticClass:"flex-grow flex flex-col",attrs:{mq:"mo"}},[e("h1",{staticClass:"gx-h4"},[a._v("Define tu nueva contraseña")]),e("p",{staticClass:"gx-caption"},[a._v("Deberá de ser al menos 8 caracteres con:")]),e("ul",{staticClass:"gx-caption"},[e("li",{staticClass:"flex items-center"},[e("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Una mayúscula")]),e("li",{staticClass:"flex items-center"},[e("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Una minúscula")]),e("li",{staticClass:"flex items-center"},[e("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Un número (0 al 9)")])]),e("GxForm",{staticClass:" flex flex-col justify-around mt-8",on:{submit:a.onSubmit}},[e("div",{staticClass:"flex-grow"},[e("GxTextFieldDarkPassword",{staticClass:"mb-4",attrs:{placeholder:"Nueva contraseña",label:"Nueva contraseña",error:a.passwordCustomError,required:"",disabled:a.loading},model:{value:a.password,callback:function(s){a.password=s},expression:"password"}}),e("GxTextFieldDarkPassword",{attrs:{placeholder:"Confirmar contraseña",label:"Confirmar contraseña",required:"",disabled:a.loading,error:a.passwordConfirmationCustomError},model:{value:a.passwordConfirmation,callback:function(s){a.passwordConfirmation=s},expression:"passwordConfirmation"}})],1),e("p",[a._v(a._s(a.passwordConfirmationCustomError))]),e("GxButton",{staticClass:"mx-auto mt-8",attrs:{dark:"",loading:a.loading,type:"submit","loading-success":a.loadingSuccess}},[a._v("cambiar contraseña")])],1),e("GxTextLink",{staticClass:"self-center text-white de:gx-caption",attrs:{to:{name:"login"}}},[a._v("Iniciar sesión")])],1),e("MqLayout",{staticClass:"flex-grow flex flex-col bg-white justify-around bg-no-repeat formPosition",style:"background-image: url("+a.bgImg+");",attrs:{mq:"de"}},[e("div",{staticClass:"w-108 ml-16 mr-8"},[e("GxCardCore",{staticClass:" shadow-3 flex flex-col rounded-lg shadow-2 pb-8 pt-8  bg-white"},[e("h4",{staticClass:"de:gx-h4 de:font-bold text-center mb-4"},[a._v("Define tu nueva contraseña")]),e("ul",{staticClass:"px-8"},[e("p",[a._v("Deberá de ser al menos 8 caracteres con:")]),e("li",{staticClass:"flex items-center"},[e("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Una mayúscula")]),e("li",{staticClass:"flex items-center"},[e("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Una minúscula")]),e("li",{staticClass:"flex items-center"},[e("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Un número (0 al 9)")])]),e("GxForm",{staticClass:"mt-4 px-4",on:{submit:a.onSubmit}},[e("GxTextFieldPassword",{attrs:{required:"",label:"Nueva contraseña",error:a.passwordCustomError},model:{value:a.password,callback:function(s){a.password=s},expression:"password"}}),e("GxTextFieldPassword",{attrs:{required:"",label:"Confirmar contraseña",error:a.passwordConfirmationCustomError},model:{value:a.passwordConfirmation,callback:function(s){a.passwordConfirmation=s},expression:"passwordConfirmation"}}),e("GxButton",{staticClass:"mx-auto mt-8",attrs:{loading:a.loading,"loading-success":a.loadingSuccess,type:"submit"}},[a._v("cambiar contraseña")])],1),e("GxTextLink",{staticClass:"text-secondary-300 text-center",attrs:{to:{name:"login"}}},[a._v(" Iniciar sesión ")])],1)],1),e("img",{staticClass:"absolute self-start ml-16 gxGuruDe",attrs:{src:t("bf7e"),alt:"guru","aria-hidden":"true"}})]),a.linkError?e("GxCardModal",{attrs:{headline:"El vínculo ya no es válido","text-body":a.linkError,"card-img":a.$utils.alertImages.Dissapointed,alt:"Error"},scopedSlots:a._u([{key:"actions",fn:function(){return[e("div",{staticClass:" justify-center flex de:mt-8",class:{"justify-end":"mo"===a.$mq}},[e("GxButton",{staticClass:"mr-4",on:{click:a.goTo}},[a._v("aceptar")])],1)]},proxy:!0}],null,!1,3855265880)}):a._e(),a.showSuccessAlert?e("GxCardModal",{key:"Contraseñaactualizada",attrs:{headline:"Contraseña actualizada","card-img":a.$utils.alertImages.Success,alt:"Contraseña actualizada"},on:{close:a.categoryCreatedClose}}):a._e()],1)},n=[],l=(t("e6cf"),t("41cd")),c=t("0d9e"),d=t("c181"),u={name:"LoginDefineNewPassword",components:{GxCardCore:l["a"],GxCardModal:c["a"]},data(){return{windowHeight:"auto",token:this.$route.query.token,email:this.$route.query.email,loading:!1,loadingSucces:!1,password:"",passwordConfirmation:"",invalidPassword:!0,invalidPasswordConfirmation:!0,passwordCustomError:null,passwordConfirmationCustomError:null,bgImg:t("286f"),errorModal:!1,linkError:null,showSuccessAlert:!1}},watch:{password(a){this.passwordCustomError=""},passwordConfirmation(a){this.passwordConfirmationCustomError=""}},mounted(){this.windowHeight=window.document.documentElement.clientHeight+"px";const a=()=>{this.windowHeight=window.document.documentElement.clientHeight+"px"};window.addEventListener("resize",a),this.$once("hook:destroyed",()=>{window.removeEventListener("resize",a)})},methods:{async onSubmit(){if(this.password===this.passwordConfirmation)try{this.loading=!0,await d["b"].post("/change_password",{email:this.email,reset_password_token:this.token,new_password:this.password}),localStorage.removeItem("gxRecoveryPassword"),this.loading=!1,this.loadingSuccess=!0,this.showSuccessAlert=!0,setTimeout(()=>{this.$router.push({name:"login"})},3e3)}catch(a){this.loading=!1;let s=this.$utils.parseServerError(a);"El vínculo recibido por correo electrónico ha caducado, o bien ya lo has utilizado. Por favor inténtalo de nuevo."===s?(this.errorModal=!0,this.linkError=s):this.passwordConfirmationCustomError=s,console.log(a)}else this.passwordConfirmationCustomError="La contraseña no es igual."},goTo(){this.$router.push({name:"login"})}}},m=u,w=(t("eb63"),t("2877")),f=Object(w["a"])(m,i,n,!1,null,"9a46a1e0",null),p=f.exports,C={page:{title:"Cambia tu contraseña",meta:[{name:"Cambia tu contraseña",content:"Formulario para cambiar contraseña"}]},components:{Layout:r["a"],LoginDefineNewPassword:p}},x=C,g=Object(w["a"])(x,e,o,!1,null,null,null);s["default"]=g.exports},bf7e:function(a,s,t){a.exports=t.p+"img/de_002_1_guru.bf6bfa79.svg"},db7b:function(a,s,t){},eb63:function(a,s,t){"use strict";var e=t("db7b"),o=t.n(e);o.a}}]);
//# sourceMappingURL=chunk-199e55ca.7e5dd5cd.js.map