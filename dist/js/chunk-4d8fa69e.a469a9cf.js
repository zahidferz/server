(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d8fa69e"],{"10e2":function(e,t,n){"use strict";var i=n("c7bd"),a=n.n(i);a.a},"95a6":function(e,t,n){},b8ed:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",options:e.listPeriods,placeholder:e.placeholder,label:e.label,"allow-empty":!1},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},a=[],l=(n("c975"),n("fb6a"),n("25f0"),n("1276"),n("498a"),n("e8f2")),s={name:"GxPeriodsDropdown",data(){return{periodId:null,period:null,selected:"",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],listPeriods:null}},props:{defaultYear:{type:Number,default:null,required:!1},defaultMonth:{type:Number,default:null,required:!1},beginningPeriod:{type:String,default:null,required:!0},endingPeriod:{type:String,default:null,required:!0},label:{type:String,default:null},placeholder:{type:String,default:null}},components:{GxDropdown:l["a"]},watch:{selected(e){if(e){let t=e.split(" ");this.$emit("selectedPeriod",Number(t[1].trim()+"0"+(this.months.indexOf(t[0].trim())+1).toString().slice(-2)))}}},created(){this.listPeriods=this.getListPeriods(),null!==this.defaultYear&&null!==this.defaultMonth&&(this.selected=this.months[this.defaultMonth-1]+" "+this.defaultYear)},methods:{getListPeriods(){let e=Number(this.beginningPeriod.toString().substring(0,4)),t=Number(this.beginningPeriod.toString().substring(4)),n=Number(this.endingPeriod.toString().substring(0,4)),i=Number(this.endingPeriod.toString().substring(4)),a=new Array;while(e<=n){for(0;t<=(e===n?i:12);t++)a.push(this.months[t-1]+" "+e);t=1,e++}return a},changeValue(e){e=e.toString(),this.selected=this.months[Number(e.slice(4))-1]+" "+e.slice(0,4)}}},o=s,r=n("2877"),c=Object(r["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},c7bd:function(e,t,n){},d348:function(e,t,n){"use strict";var i=n("95a6"),a=n.n(i);a.a},ea78:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.to?"router-link":"button",e._g({ref:"button",tag:"component",staticClass:"flex items-center outline-none focus:outline-none",class:[e.getColors,e.getColorsHover,{ripple:!e.plain,loading:e.loading,loadingSuccess:e.loadingSuccess,"gx-height-variant":e.heightVariant,"gx-button--plain":e.plain,"px-2 mb-2":!e.plain&&!e.variantSecondary&&!e.variant,"w-full":e.full,"bg-primary-500":e.loading,"rounded-full":!e.variant&&!e.plain&&!e.variantSecondary||e.plain&&e.loading,"rounded-lg variant-button":e.variant,"gx-button":!e.variant,rounded:e.variantSecondary,"bg-transparent":e.plain,"hover:text-secondary-300":e.plain&&!e.disabled,"border  ":e.ghost,"border-gray-500 cursor-not-allowed":e.disabled||e.loading,"bg-gray-300":e.disabled&&!e.loading&&!e.ghost&&!e.plain,"bg-white":(e.disabled||e.loading)&&e.ghost&&!e.variant,"hover:text-primary-400 hover:border-primary-400 focus:border-secondary-300":e.plain&&!e.disabled,"":e.ghost&&e.variant&&!e.dark}],attrs:{to:e.to,type:e.to?"text/html":e.type,disabled:e.disabled||e.loading||e.loadingSuccess,"data-testid":e.$slots.default[0].text}},e.$listeners),[e.loadingSuccess?n("GxIcon",{staticClass:"material-icons absolute",class:{"text-white":!e.plain&&!e.dark,"text-primary-500":e.plain},attrs:{"aria-hidden":"true",focusable:"false",icon:"done"}}):e._e(),e.icon?n("GxIcon",{staticClass:"material-icons -ml-px mr-1.5",class:[e.getIconColor,{invisible:e.loading||e.loadingSuccess,"mr-4":"mo"===e.$mq}],style:{fontSize:e.iconSize},attrs:{"aria-hidden":"true",focusable:"false",icon:e.icon}}):e._e(),n("div",{staticClass:"slotContainer",class:{invisible:e.loading||e.loadingSuccess,"pointer-events-none":e.disabled}},[e._t("default")],2)],1)},a=[],l=n("524e"),s={name:"GxButton",components:{GxIcon:l["a"]},props:{icon:{type:String,default:null},dense:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingSuccess:{type:Boolean,default:!1},variant:{type:Boolean,default:!0},variantSecondary:{type:Boolean,default:!1},heightVariant:{type:Boolean,default:!0},ghost:{type:Boolean,default:!0},full:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},to:{type:Object,default:null},type:{type:String,default:"button"},typeButton:{type:String,default:"general"},iconSize:{type:String,default:"24px"}},data(){return{initialWidth:this.full?"100%":"initial"}},computed:{getIconColor(){switch(this.typeButton){case"general":return"text-primary-500";case"success":return"text-success";case"pending":return"text-pending";case"none":return"text-gray-700";default:return"text-primary-500"}},getColors(){switch(this.typeButton){case"general":return"border-primary-500 text-primary-500";case"success":return"border-success text-gray-700";case"pending":return"border-pending text-gray-700";case"none":return"border-gray-700 text-gray-700";default:return"border-primary-500 text-primary-500"}},getColorsHover(){switch(this.typeButton){case"general":return"focus:bg-secondary-50";case"success":return"focus:bg-success-hover";case"pending":return"focus:bg-pending-hover";case"none":return"focus:bg-gray-200";default:return"focus:bg-secondary-50"}}},mounted(){this.to||this.$refs.button.style.setProperty("--initial-width",this.initialWidth)},methods:{setRippleBackground(e){this.$refs.button.style.setProperty("--ripple-background",e)}}},o=s,r=(n("d348"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,"19d5dc6b",null);t["a"]=c.exports},f26c:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.showItems,expression:"this.showItems"}],staticClass:"mt-4 absolute border border-gray-700 rounded-lg shadow-4 right-4 origin-top-right text-left z-1"},[n("div",{staticClass:"whitespace-no-wrap bg-white rounded-lg shadow-lg cursor-pointer"},[n("div",{staticClass:"border-gray-200 py-1.5"},e._l(this.buttonsActions,(function(t){return n("div",{key:t.name,staticClass:"flex content-center h-7.5 text-gray-700 hover:bg-otherOptions-hover active:bg-otherOptions-click align-middle px-2 py-1",on:{click:function(n){return e.clickMenuOption(t)}}},[n("GxIcon",{staticClass:"align-middle ml-1.5 mr-1.5 pr-1 pt-px",style:{fontSize:"19px"},attrs:{icon:t.icon}}),n("span",{staticClass:"align-middle pr-1.5 text-sm"},[e._v(" "+e._s(t.name))])],1)})),0)])])]),n("div",{staticClass:"flex flex-col content-center justify-center rounded-lg w-7.5 h-7.5 text-center text-gray-500 border-gray-500 border-1 cursor-pointer hover:bg-otherOptions-hover active:bg-otherOptions-click bg-white",on:{click:this.clickMenu}},[n("input",{ref:"uploadFileButtonActions",staticClass:"hidden",attrs:{type:"file",id:"uploadFileButtonActions",accept:e.getExtensionsList},on:{change:function(t){return e.addFileButton(t)}}}),e._m(0)])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center pt-px pl-px"},[n("span",{staticClass:"text-2xs"},[e._v("•••")])])}],l=(n("e6cf"),n("5319"),n("524e")),s={name:"GxButtonActions",data(){return{showItems:!1,methodFile:"",extension:""}},props:{buttonsActions:{Type:Array,default:null}},components:{GxIcon:l["a"]},computed:{getExtensionsList(){return""!==this.extension?this.extension:".*"}},mounted(){const e=e=>{this.$el.contains(e.target)||(this.showItems=!1)};document.addEventListener("click",e),this.$once("hook:beforeDestroy",()=>{document.removeEventListener("click",e)})},methods:{clickMenu(){this.showItems=!this.showItems},clickMenuOption(e){switch(this.methodFile="",this.extension="",e.type){case"method":this.$emit(e.action);break;case"link":window.open(e.action,"_blank");break;case"download":window.open(e.action,"Download");break;case"file":this.methodFile=e.action,this.extension=e.additionalData,setTimeout(()=>{this.$refs.uploadFileButtonActions.click(),this.showItems=!1},10);break}this.showItems=!1},async addFileButton(e){this.file=e.target.files[0],this.getBase64()},getBase64(){this.fileName=this.file.name,this.loadingFile=!0;let e=new FileReader;e.onloadend=()=>{this.fileBase64=e.result.replace(/^data:.+;base64,/,""),this.$emit(this.methodFile,this.fileBase64,this.fileName),this.methodFile="",this.extension=""},e.readAsDataURL(this.file)}}},o=s,r=n("2877"),c=Object(r["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},fad5:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TrialBalance")},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col w-full px-10 justify-center pb-15"},[n("div",{staticClass:"flex flex-col w-full wrapper"},[n("div",{staticClass:"flex title text-2xl"},[e._v(" Balanza de Comprobación ")]),n("div",{staticClass:"flex -ml-4 juditfy-between mt-1"},[n("div",{staticClass:"flex w-full"},[n("div",{staticClass:"flex w-46"},[e.beginningPeriod&&e.endingPeriod?n("GxPeriodsDropdown",{ref:"PeriodInit",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período inicial",label:"Período inicial","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodInit}}):e._e()],1),n("div",{staticClass:"w-46 -ml-4"},[e.beginningPeriod&&e.endingPeriod?n("GxPeriodsDropdown",{ref:"PeriodEnd",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período final",label:"Período final","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodEnd}}):e._e()],1),n("div",{staticClass:"w-46 -ml-4"},[e.getLevelsList?n("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Niveles",label:"Niveles",options:e.getLevelsList},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}}):e._e()],1)]),n("div",{staticClass:"flex"},[this.beginningPeriod?n("GxButtonActions",{staticClass:"mt-5",attrs:{buttonsActions:e.getButtonsActions},on:{downloadPDF:e.downloadPDF,downloadExcel:e.downloadExcel,trialBalanceXML:e.trialBalanceXML,journalEntriesXML:e.journalEntriesXML}}):e._e()],1)]),this.$apollo.queries.getTrialBalance.loading?n("div",{staticClass:"flex w-full mt-10"},[n("GxLoader")],1):e._e(),e.trialBalance?n("div",{staticClass:"flex w-full -mt-3"},[n("GxTrialBalance",{attrs:{trialBalance:this.trialBalance}})],1):e._e()]),e.showDownloadTrialBalanceXML?n("GxModal",[n("div",{staticClass:"flex flex-col w-125 bg-white rounded-lg"},[n("div",{staticClass:"flex flex-col w-full justify-center pt-9.5 pb-9.5"},[n("span",{staticClass:"text-2xl font-bold text-center"},[e._v("Exportar balanza de comprobación")]),n("span",{staticClass:"text-base text-center mt-2"},[e._v("Selecciona el tipo de envío de la balanza")])]),n("div",{staticClass:"flex flex-col w-full -mt-10",class:{"mb-9":""===this.typeTrialBalanceXML}},[n("div",{staticClass:"flex w-full justify-center"},[n("div",{staticClass:"flex w-62"},[n("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Tipo de envío *",label:"Tipo de envío *",options:e.optionsTypeTrialBalanceXML},model:{value:e.typeTrialBalanceXML,callback:function(t){e.typeTrialBalanceXML=t},expression:"typeTrialBalanceXML"}})],1)]),n("transition",{attrs:{name:"fade"}},["Complementaria"===this.typeTrialBalanceXML?n("div",{staticClass:"flex justify-center w-full"},[n("div",{staticClass:"flex -mt-3 "},[n("GxTextFieldDatePicker",{class:[" w-54"],attrs:{required:"",label:"Fecha de última modificación contable *"},model:{value:e.dateTrialBalanceXML,callback:function(t){e.dateTrialBalanceXML=t},expression:"dateTrialBalanceXML"}})],1)]):e._e()])],1),this.typeTrialBalanceXML&&this.downloadingTrialBalanceXML?n("div",{staticClass:"flex w-full pb-8",class:{"mt-10":"Normal"===this.typeTrialBalanceXML,"mt-8":"Complementaria"===this.typeTrialBalanceXML}},[n("div",{staticClass:"flex inline-block justify-end w-1/2"},[n("GxButtonTaxes",{staticClass:"bottom-0 rounded-md gx-button h-10 w-40 mr-2",style:{fontSize:"14px"},attrs:{icon:"arrow_back",typeButton:"none"},on:{click:e.closeTrialBalanceXML}},[e._v(" Cancelar ")])],1),n("div",{staticClass:"flex inline-block w-1/2 justify-start"},[n("GxButtonTaxes",{staticClass:"bottom-0 rounded-md gx-button h-10 w-40 ml-2",style:{fontSize:"14px"},attrs:{icon:"launch",iconSize:"26px"},on:{click:function(t){e.downloadingTrialBalanceXML=!1}}},[e._v(" Exportar archivo ")])],1)]):this.downloadingTrialBalanceXML?e._e():n("div",{staticClass:"flex w-full pb-8 mt-7"},[n("GxLoader")],1)])]):e._e(),e.showDownloadJournalEntriesXML?n("GxModal",[n("div",{staticClass:"flex w-full h-80 items-center content-center"},[n("div",{staticClass:"flex flex-col w-125 bg-white rounded-lg"},[n("div",{staticClass:"flex flex-col w-full justify-center pt-9.5 pb-9.5"},[n("span",{staticClass:"text-2xl font-bold text-center"},[e._v("Exportar pólizas")]),n("span",{staticClass:"text-base text-center"},[e._v("Selecciona el tipo de solicitud")])]),n("div",{staticClass:"flex flex-col w-full -mt-10",class:{"mb-9":""===this.typeJournalEntriesXML}},[n("div",{staticClass:"flex w-full justify-center"},[n("div",{staticClass:"flex relative w-62"},[n("GxDropdown",{staticClass:"mt-2 ",attrs:{"watch-value":"",placeholder:"Tipo de solicitud *",label:"Tipo de solicitud *",options:e.optionsJournalEntriesXML},model:{value:e.typeJournalEntriesXML,callback:function(t){e.typeJournalEntriesXML=t},expression:"typeJournalEntriesXML"}})],1)]),n("transition",{attrs:{name:"fade"}},[this.typeJournalEntriesXML?n("div",{staticClass:"flex justify-center w-full"},[n("div",{staticClass:"flex relative w-54 -mt-3"},[n("GxTextField",{ref:"NumberJournalEntriesXML",attrs:{maxlength:e.getMaximumCharactersTextField,label:e.getLabelTextField,placeholder:e.getLabelTextField,autofocus:""},model:{value:e.numberJournalEntriesXML,callback:function(t){e.numberJournalEntriesXML=t},expression:"numberJournalEntriesXML"}})],1)]):e._e()])],1),this.typeJournalEntriesXML&&this.downloadingJournalEntriesXML?n("div",{staticClass:"flex w-full pb-8 mt-7"},[n("div",{staticClass:"flex inline-block justify-end w-1/2"},[n("GxButtonTaxes",{staticClass:"bottom-0 rounded-md gx-button h-10 w-40 mr-2",style:{fontSize:"14px"},attrs:{icon:"arrow_back",typeButton:"none"},on:{click:e.closeJournalEntriesXML}},[e._v(" Cancelar ")])],1),n("div",{staticClass:"flex inline-block w-1/2 justify-start"},[n("GxButtonTaxes",{staticClass:"bottom-0 rounded-md gx-button h-10 w-40 ml-2",style:{fontSize:"14px"},attrs:{icon:"launch",iconSize:"26px"},on:{click:e.validateJournalEntriesXML}},[e._v(" Exportar archivo ")])],1)]):this.downloadingJournalEntriesXML?e._e():n("div",{staticClass:"flex w-full pb-8 mt-7"},[n("GxLoader")],1)])])]):e._e()],1)},s=[],o=(n("fb6a"),n("4d63"),n("25f0"),n("466d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col w-full "},[e.trialBalance.ledgerAccounts.length>0?n("div",{staticClass:"flex flex-col"},[e._m(0),n("div",[n("GxTrialBalanceLedgerAccount",{attrs:{ledgerAccounts:e.trialBalance.ledgerAccounts}})],1),n("div",{staticClass:"flex w-full justify-end"},[e._m(1),n("div",{staticClass:"flex w-23 h-6 justify-end pr-2 items-center bg-gray-100 border-b h-7.5"},[n("span",{staticClass:"font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.trialBalance.beginningBalance.toString()))+" ")])]),n("div",{staticClass:"flex w-23 h-6 justify-end pr-2 items-center bg-gray-100 border-b h-7.5"},[n("span",{staticClass:"font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.trialBalance.totalCredit.toString()))+" ")])]),n("div",{staticClass:"flex w-23 h-6 justify-end pr-2 items-center bg-gray-100 border-b h-7.5"},[n("span",{staticClass:"font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.trialBalance.totalDebit.toString()))+" ")])]),n("div",{staticClass:"flex w-23 h-6 justify-end pr-2 items-center bg-gray-100 border-b h-7.5"},[n("span",{staticClass:"font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.trialBalance.finalBalance.toString()))+" ")])])])]):n("div",{staticClass:"flex justify-center mt-10 w-full text-center"},[n("span",{staticClass:"text-sm font-bold"},[e._v(" No hay información ")])])])}),r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex border-b text-gray-700 w-full justify-between bg-gray-100"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex w-auto items-center h-6"},[n("span",{staticClass:"font-bold pl-4"},[e._v(" Cuentas ")])])]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex w-23 h-6 items-center justify-center"},[n("span",{staticClass:"font-bold"},[e._v(" Naturaleza ")])]),n("div",{staticClass:"flex w-23 h-6 items-center justify-center"},[n("span",{staticClass:"font-bold"},[e._v(" Saldo Inicial ")])]),n("div",{staticClass:"flex w-23 h-6 items-center justify-center"},[n("span",{staticClass:"font-bold"},[e._v(" Cargos ")])]),n("div",{staticClass:"flex w-23 h-6 items-center justify-center"},[n("span",{staticClass:"font-bold"},[e._v(" Abonos ")])]),n("div",{staticClass:"flex w-23 h-6 items-center justify-center"},[n("span",{staticClass:"font-bold"},[e._v(" Saldo Final ")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex w-23 h-6 items-center justify-end items-center pr-6 bg-gray-100 border-b h-7.5"},[n("span",{staticClass:"font-bold"},[e._v(" Totales ")])])}],c=(n("2532"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.ledgerAccounts,(function(t){return n("li",{key:t.ledgerAccountId,on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.onSelected(t)}}},[n("div",{staticClass:"group flex align-middle rounded pt-1 pb-1 borderLedgerAccount",class:{"cursor-pointer":0===e.getSubAccountsCount(t),"hover:bg-ledgerAccountlist-hover":0===e.getSubAccountsCount(t)}},[n("div",{staticClass:"ml-2.5 w-5 h-5 text-center"},[1===e.level?n("span",{staticClass:"font-bold text-2xs w-5 block mt-1",class:["text-ledgerAccountTypes-"+t.ledgerAccountType]},[e._v("M")]):n("span",{staticClass:"w-5 block"})]),n("div",{staticClass:"inline-flex text-white"},e._l(e.getNumberOfAccountsByParts(t),(function(i,a){return n("span",{key:a,staticClass:"pt-1 pb-2px mr-px font-bold text-2xs",class:["bg-ledgerAccountTypes-"+t.ledgerAccountType,{"rounded-tl rounded-bl pl-2 pr-1":0===a,"pl-1 pr-2 rounded-r":a===e.getNumberOfAccountsByParts(t).length-1&&!e.getSubAccountsCount(t)>0,"pl-2 pr-2":0!==a&&a!==e.getNumberOfAccountsByParts(t).length-1||0!==a&&a==e.getNumberOfAccountsByParts(t).length-1&&e.getSubAccountsCount(t)>0}],attrs:{index:a,nivel:e.getNumberOfAccountsByParts(t).length}},[e._v(" "+e._s(i)+" ")])})),0),n("div",{staticClass:"inline-flex pl-5 pr-2 pt-2px sm:hover:bg-secondary-20 w-full"},[n("div",{staticClass:"flex w-auto inline-block resize-none max-w-4xl"},[n("span",{staticClass:"whitespace-no-wrap w-full truncate overflow-hidden text-xs",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(" "+e._s(t.name))])])]),n("div",{staticClass:"flex"},[n("div",{staticClass:"flex w-23 items-center justify-center",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(" "+e._s(e.getNature(t.nature)))]),n("div",{staticClass:"flex w-23 items-center justify-end pr-2",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(e._s(e.getNumberFormat(t.beginningBalance.toString()))+" ")]),n("div",{staticClass:"flex w-23 items-center justify-end pr-2",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(e._s(e.getNumberFormat(t.credit.toString())))]),n("div",{staticClass:"flex w-23 items-center justify-end pr-2",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(e._s(e.getNumberFormat(t.debit.toString())))]),n("div",{staticClass:"flex w-23 items-center justify-end pr-2",class:{"font-bold":e.getSubAccountsCount(t)>0}},[e._v(e._s(e.getNumberFormat(t.finalBalance.toString())))])])]),e.getSubAccountsCount(t)>0?n("GxTrialBalanceLedgerAccounts",{attrs:{ledgerAccounts:null===t.subAccounts?[]:t.subAccounts,level:e.level+1},on:{onSelected:e.onSelected}}):e._e()],1)})),0)}),d=[],u=(n("1276"),{name:"GxTrialBalanceLedgerAccounts",data(){return{}},props:{ledgerAccounts:{type:Array,default:null},level:{type:Number,default:1}},methods:{getNumberFormat(e){return""===e||"0"===e||"0.00"===e?"-":e.includes(".")?e.replace(/^\d+\.$/,"$&00").replace(/\d(?=(\d{3})+\.)/g,"$&,"):(e=e.replace(/^\d+\.$/,"$&00").replace(/\.\d$/,"0$&0").replace(/\d+\.$/,"$&00").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),"0"==e?"":"0"==e||""==e?e:e+".00")},getNature(e){return"debit"===e?"Deudora":"Acreedora"},getNumberOfAccountsByParts(e){return e.number.split("-")},getSubAccountsCount(e){return void 0===e.subAccounts||null===e.subAccounts?0:e.subAccounts.length},onSelected(e){0===this.getSubAccountsCount(e)&&this.$emit("onSelected",e)}}}),p=u,g=(n("10e2"),n("2877")),h=Object(g["a"])(p,c,d,!1,null,null,null),f=h.exports,m={name:"GxTrialBalance",data(){return{}},props:{trialBalance:{type:Object,default:null,required:!0}},components:{GxTrialBalanceLedgerAccount:f},methods:{getNumberFormat(e){return""===e||"0"===e||"0.00"===e?"-":e.includes(".")?e.replace(/^\d+\.$/,"$&00").replace(/\d(?=(\d{3})+\.)/g,"$&,"):(e=e.replace(/^\d+\.$/,"$&00").replace(/\.\d$/,"0$&0").replace(/\d+\.$/,"$&00").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),"0"==e?"":"0"==e||""==e?e:e+".00")}}},b=m,x=Object(g["a"])(b,o,r,!1,null,null,null),v=x.exports,y=n("b8ed"),w=n("f26c"),C=n("e8f2"),L=n("ea78"),B=n("4847"),M=n("51b4"),P=n("4c6a"),E={name:"TrialBalance",data(){return{level:"2",levels:null,beginningPeriod:null,endingPeriod:null,beginningPeriodId:null,endingPeriodId:null,trialBalance:null,skipTrialBalance:!0,typeFileDownload:"",optionsTypeTrialBalanceXML:["Normal","Complementaria"],showDownloadTrialBalanceXML:!1,typeTrialBalanceXML:"",dateTrialBalanceXML:this.getDateFormat,downloadingTrialBalanceXML:!0,optionsJournalEntriesXML:["Acto de Fiscalización (AF)","Fiscalización Compulsa (FC)","Devolución (DE)","Compensación (CO)"],showDownloadJournalEntriesXML:!1,typeJournalEntriesXML:"",numberJournalEntriesXML:"",downloadingJournalEntriesXML:!0}},components:{GxTrialBalance:v,GxPeriodsDropdown:y["a"],GxDropdown:C["a"],GxButtonActions:w["a"],GxButtonTaxes:L["a"],GxModal:B["a"],GxLoader:M["a"]},apollo:{getLevelsLedgerAccounts:{query:P["u"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")]}},update(e){this.levels=e.myAccountingFirms[0].clients[0].accounting.chartOfAccounts.levels},fetchPolicy:"no-cache"},getTrialBalancePDFOrExcel:{query:P["y"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,detailLevel:this.level,assumeLastAnnualPeriodIsClosed:!0,fileType:this.typeFileDownload}},update(e){window.open(e.myAccountingFirms[0].clients[0].accounting.reports.trialBalanceExport.url,"Download"),this.typeFileDownload=""},skip(){return""===this.typeFileDownload},fetchPolicy:"no-cache"},getTrialBalance:{query:P["x"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,detailLevel:this.level,assumeLastAnnualPeriodIsClosed:!0}},update(e){this.trialBalance=e.myAccountingFirms[0].clients[0].accounting.reports.trialBalance},skip(){return this.skipTrialBalance||!(null!==this.beginningPeriodId&&this.endingPeriodId)},fetchPolicy:"no-cache"},getTrialBalanceXML:{query:P["z"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],periodId:this.endingPeriodId,esComplementaria:"Normal"!==this.typeTrialBalanceXML,ultimaModificacionContable:this.dateTrialBalanceXML}},update(e){window.open(e.myAccountingFirms[0].clients[0].accounting.reports.additionalReportsLocalized.contabilidadElectronicaBalanzaDeComprobacion.url,"Download"),this.downloadingTrialBalanceXML=!0,this.typeTrialBalanceXML="",this.showDownloadTrialBalanceXML=!1},skip(){return this.downloadingTrialBalanceXML},fetchPolicy:"no-cache"},getJournalEntriesXML:{query:P["n"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],periodId:this.endingPeriodId,tipoDeSolicitud:this.getEnumRequestType,numeroDeOrdenOTramite:this.numberJournalEntriesXML}},update(e){window.open(e.myAccountingFirms[0].clients[0].accounting.reports.additionalReportsLocalized.contabilidadElectronicaPolizas.url,"Download"),this.downloadingJournalEntriesXML=!0,this.typeJournalEntriesXML="",this.numberJournalEntriesXML="",this.showDownloadJournalEntriesXML=!1},skip(){return this.downloadingJournalEntriesXML},fetchPolicy:"no-cache"}},watch:{endingPeriodId(e){""!==e&&null!==e&&(this.dateTrialBalanceXML=new Date(Number(this.endingPeriodId.toString().substring(0,4)),Number(this.endingPeriodId.toString().substring(4)),0).toISOString())},typeJournalEntriesXML(){this.numberJournalEntriesXML=""}},computed:{getEnumRequestType(){return"Acto de Fiscalización (AF)"===this.typeJournalEntriesXML?"actoDeFiscalizacion":"Fiscalización Compulsa (FC)"===this.typeJournalEntriesXML?"fiscalizacionCompulsa":"Devolución (DE)"===this.typeJournalEntriesXML?"devolucion":"Compensación (CO)"===this.typeJournalEntriesXML?"compensacion":""},getLevelsList(){let e=new Array,t=1;while(t<=this.levels)e.push(String(t)),t++;return e},getButtonsActions(){let e=[{name:"Descargar balanza de comprobación en Excel",icon:"cloud_download",type:"method",action:"downloadExcel"},{name:"Descargar balanza de comprobación en PDF",icon:"cloud_download",type:"method",action:"downloadPDF"},{name:"Descargar balanza en XML para contabilidad electrónica",icon:"cloud_download",type:"method",action:"trialBalanceXML"},{name:"Descargar pólizas en XML para contabilidad electrónica",icon:"cloud_download",type:"method",action:"journalEntriesXML"}];return e},getLabelTextField(){return""===this.typeJournalEntriesXML?"":"Acto de Fiscalización (AF)"===this.typeJournalEntriesXML||"Fiscalización Compulsa (FC)"===this.typeJournalEntriesXML?"Número de orden *":"Devolución (DE)"===this.typeJournalEntriesXML||"Compensación (CO)"===this.typeJournalEntriesXML?"Número de trámite  *":""},getMaximumCharactersTextField(){return""===this.typeJournalEntriesXML?0:"Acto de Fiscalización (AF)"===this.typeJournalEntriesXML||"Fiscalización Compulsa (FC)"===this.typeJournalEntriesXML?13:"Devolución (DE)"===this.typeJournalEntriesXML||"Compensación (CO)"===this.typeJournalEntriesXML?14:0}},created(){this.beginningPeriod=localStorage.getItem("beginningPeriod"),this.endingPeriod=localStorage.getItem("endingPeriod"),localStorage.getItem("periodDefault")?(this.beginningPeriodId=Number(localStorage.getItem("periodDefault")),this.endingPeriodId=Number(localStorage.getItem("periodDefault"))):(this.beginningPeriodId=this.endingPeriod,this.endingPeriodId=this.endingPeriod),setTimeout(()=>{this.$refs.PeriodInit.changeValue(this.beginningPeriodId),this.$refs.PeriodEnd.changeValue(this.endingPeriodId)},50)},methods:{selectedPeriodInit(e){this.skipTrialBalance=!0,this.trialBalance=null,(e>this.endingPeriodId||e.toString().slice(0,4)!==this.endingPeriodId.toString().slice(0,4))&&(this.$refs.PeriodEnd.changeValue(e),this.endingPeriodId=e),this.beginningPeriodId=e,this.skipTrialBalance=!1},selectedPeriodEnd(e){this.skipTrialBalance=!0,this.trialBalance=null,(e<this.beginningPeriodId||e.toString().slice(0,4)!==this.beginningPeriodId.toString().slice(0,4))&&(this.beginningPeriodId=e,this.$refs.PeriodInit.changeValue(e)),this.endingPeriodId=e,this.skipTrialBalance=!1},downloadPDF(){this.typeFileDownload="pdf"},downloadExcel(){this.typeFileDownload="excel"},trialBalanceXML(){this.showDownloadTrialBalanceXML=!0,this.typeTrialBalanceXML=""},closeTrialBalanceXML(){this.showDownloadTrialBalanceXML=!1},journalEntriesXML(){this.showDownloadJournalEntriesXML=!0},closeJournalEntriesXML(){this.showDownloadJournalEntriesXML=!1,this.typeJournalEntriesXML=""},validateJournalEntriesXML(){if(""!==this.$refs.NumberJournalEntriesXML.value){if(13===this.getMaximumCharactersTextField){const e=new RegExp("[A-Z]{3}[0-9]{7}(/)[0-9]{2}");if(null===this.numberJournalEntriesXML.match(e))return this.numberJournalEntriesXML="",void this.$refs.NumberJournalEntriesXML.setFocus()}else if(14===this.getMaximumCharactersTextField){const e=new RegExp("[A-Z]{2}[0-9]{12}");if(null===this.numberJournalEntriesXML.match(e))return this.numberJournalEntriesXML="",void this.$refs.NumberJournalEntriesXML.setFocus()}this.downloadingJournalEntriesXML=!1}else this.$refs.NumberJournalEntriesXML.setFocus()}}},X=E,_=Object(g["a"])(X,l,s,!1,null,null,null),S=_.exports,T={name:"JournalEntriesView",components:{TrialBalance:S}},A=T,F=Object(g["a"])(A,i,a,!1,null,null,null);t["default"]=F.exports}}]);
//# sourceMappingURL=chunk-4d8fa69e.a469a9cf.js.map