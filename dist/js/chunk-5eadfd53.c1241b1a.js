(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5eadfd53"],{"2c82":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LayoutWebMobile",{attrs:{title:t.companyLogo?"Actualizar logotipo":"Sube el logotipo",icon:"keyboard_backspace","icon-click-handler":t.goBack}},[a("UploadLogo")],1)},s=[],r=a("42b5"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"mo"===t.$mq?a("div",{staticClass:"flex-grow flex flex-col items-center p-4 text-center"},[a("p",{staticClass:"mb-8"},[t._v("Este logotipo aparecerá en tu perfil y los documentos que emitas en Chain.")]),a("GxFileDragAndDrop",{attrs:{"original-image":t.companyLogo,label:t.inputLabel},model:{value:t.imageSrc,callback:function(e){t.imageSrc=e},expression:"imageSrc"}}),t.editMode?t._e():a("p",{staticClass:"gx-caption"},[t._v("No tengo logo, "),a("button",{staticClass:"font-bold text-center mb-4",on:{click:function(e){t.skipStep=!t.skipStep}}},[t._v("omitir este paso")])]),t.skipStep?a("GxCardModal",{attrs:{headline:"¿Seguro que quieres salir?","text-body":"Podrás subir el logo cuando esté listo, aunque te recomendamos hacerlo ahora.","card-img":t.$utils.alertImages.Cry,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[a("div",{staticClass:"flex ml-auto de:mx-auto"},[a("GxButton",{staticClass:"text-alert mr-4 uppercase",attrs:{plain:"mo"===t.$mq,ghost:"de"===t.$mq},on:{click:t.doItLater}},[t._v("salir")]),a("GxButton",{staticClass:"text-primary uppercase",attrs:{plain:"mo"===t.$mq},on:{click:t.closeModal}},[t._v("continuar")])],1)]},proxy:!0}],null,!1,740727325)}):t._e()],1):a("div",{staticClass:"flex-grow flex flex-col items-center"},[t.editMode?a("GxDesktopHeader",{staticClass:"self-start",attrs:{icon:"keyboard_backspace",header:"Actualizar Logo","icon-click-handler":t.goBack}}):a("GxDesktopHeader",{staticClass:"self-start",attrs:{icon:"receipt",header:"Sube el logotipo"}}),a("p",{staticClass:"self-start"},[t._v("Este logotipo aparecerá en tu perfil y los documentos que emitas en Chain.")]),a("main",{staticClass:"flex-grow flex-col flex justify-center items-center "},[a("GxFileDragAndDrop",{attrs:{"original-image":t.companyLogo,label:t.inputLabel},model:{value:t.imageSrc,callback:function(e){t.imageSrc=e},expression:"imageSrc"}}),t.editMode?t._e():a("p",{staticClass:"text-center mt-2 de:gx-caption"},[t._v("No tengo logo, "),a("button",{staticClass:"font-bold text-center de:gx-caption",on:{click:function(e){t.skipStep=!t.skipStep}}},[t._v("omitir este paso")])])],1),a("transition",{attrs:{mode:"out-in"}},[t.skipStep?a("GxCardModal",{key:"skip-confirmation",attrs:{headline:"¿Seguro que quieres salir?","text-body":"Podrás subir el logo cuando esté listo, aunque te recomendamos hacerlo ahora.","card-img":t.$utils.alertImages.Cry,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[a("div",{staticClass:"flex ml-auto de:mx-auto mt-8"},[a("GxButton",{staticClass:"mr-4",attrs:{plain:"mo"===t.$mq,ghost:"de"===t.$mq},on:{click:t.doItLater}},[t._v("salir")]),a("GxButton",{staticClass:"text-primary",attrs:{plain:"mo"===t.$mq},on:{click:t.closeModal}},[t._v("continuar")])],1)]},proxy:!0}],null,!1,2895957231)}):t._e(),t.showUploadCSDSummary?a("GxModal",{key:"cds-info-modal",attrs:{alt:"modal"}},[a("div",{staticClass:"flex-grow flex flex-col w-108 bg-white text-black shadow-3 rounded-lg px-12 py-8"},[a("div",{staticClass:"flex-grow flex items-center justify-center mb-4"},[a("img",{attrs:{src:t.$utils.alertImages.Do,alt:"alt"}})]),a("h1",{staticClass:"gx-h4 font-bold text-center mb-4"},[t._v("Sube el Certificado de Sello Digital (CSD)")]),a("p",[t._v("El CSD es un archivo digital emitido por el SAT que se usa únicamente para facturar. Recuerda que es diferente a la Fiel. "),a("GxIcon",{attrs:{icon:"help"}})],1),a("p",{staticClass:"mb-4"},[t._v("El CSD está compuesto de tres elementos:")]),a("ol",{staticClass:"px-2"},[a("li",{staticClass:"mb-4"},[t._v("1. Certificado de seguridad (archivo .cer)")]),a("li",{staticClass:"mb-4"},[t._v("2. Llave privada (archivo .key)")]),a("li",[t._v("3. Contraseña de la llave privada")])]),a("div",{staticClass:"flex flex-col mt-2 items-center"},[a("p",{staticClass:"de:gx-caption mb-8"},[t._v("Tu información está protegida. "),a("GxTextLink",{staticClass:"font-bold",attrs:{"target-blank":"",to:{name:"privacypolicy"}}},[t._v("Conoce cómo.")])],1),a("GxButton",{staticClass:"mx-auto",on:{click:function(e){return t.$router.push({name:"howtouploadcsd"})}}},[t._v("Continuar")]),a("GxTextLink",{staticClass:"text-center",on:{click:function(e){e.preventDefault(),t.showSkipCSDAlert=!t.showSkipCSDAlert}}},[t._v("Hacerlo después")])],1)])]):t._e()],1),t.customError?a("GxCardModal",{attrs:{headline:"Hubo un error","card-img":t.$utils.alertImages.Oops,alt:"Comprueba que tu información esté correcta y que sean archivos de tu CSD","text-body":t.customError},on:{click:function(e){t.customError=!t.customError}}}):t._e(),t.showSkipCSDAlert?a("GxCardModal",{attrs:{headline:"¿No tienes los certificados?","text-body":"Recibe un correo electrónico para que nos respondas con tus archivos y nosotros nos encargaremos del resto.","card-img":t.$utils.alertImages.Dissapointed,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[a("div",{staticClass:"flex justify-center de:mt-8"},[a("GxButton",{staticClass:"de:text-alert de:border-alert mr-4",attrs:{ghost:""},on:{click:t.toDashboard}},[t._v("salir")]),a("GxButton",{attrs:{loading:t.cardLoading},on:{click:t.sendEmail}},[t._v("recibir mail")])],1)]},proxy:!0}],null,!1,644611080)}):t._e()],1)},l=[],c=(a("e6cf"),a("2f78")),n=a("524e"),u=a("0d9e"),m=a("4847"),d=a("3a1a"),p=a("0ae0"),g=a("4c6a"),h=a("9530"),x=a.n(h);let y,b=t=>t;var f={name:"UploadLogo",components:{GxIcon:n["a"],GxCardModal:u["a"],GxModal:m["a"],GxDesktopHeader:d["a"],GxFileDragAndDrop:c["a"]},apollo:{company:x()(y||(y=b`
      {
        company @client {
          number
        }
      }
    `)),myAccount:g["COMPANY_INFO"]},data(){return{showSkipCSDAlert:!1,imageSrc:null,skipStep:!1,summaryImg:a("d289"),alertAlt:"¿Seguro que quieres salir?",showUploadCSDSummary:!1,loading:!1,customError:null,cardLoading:!1}},computed:{editMode(){return this.$route&&this.$route.query.edit},companyLogo(){return this.myAccount&&this.myAccount.companies[0].company.companyLogo?this.myAccount.companies[0].company.companyLogo:null},inputLabel(){return this.companyLogo?"CAMBIAR LOGO":"SUBIR LOGO"}},watch:{imageSrc(t){this.$router.push({name:"resizelogo",params:{imageSrc:t},query:{edit:this.editMode}})}},methods:{goBack(){this.editMode?this.$router.push({name:"dashboard"}):(this.$router.gxAnim="slide-right",this.$router.back())},closeModal(){this.skipStep=!this.skipStep},async sendEmail(){try{this.cardloading=!0,await this.$apollo.mutate({mutation:p["SEND_EMAIL_UPLOAD_CSD"],variables:{companyNumber:this.myAccount.companies[0].company.companyNumber}}),this.cardloading=!1,this.$router.push({name:"dashboard"})}catch(t){this.loading=!1,this.customError=this.$utils.parseServerError(t);const e=setTimeout(()=>{this.customError=null},3e3);this.$once("hook:destroyed",()=>{clearTimeout(e)})}},nextPage(){alert("implement")},toDashboard(){this.$router.push({name:"dashboard"})},doItLater(){"mo"===this.$mq?this.$router.push({name:"uploadcsdsummary"}):(this.skipStep=!1,this.showUploadCSDSummary=!0)}}},C=f,k=(a("ba6e"),a("2877")),S=Object(k["a"])(C,i,l,!1,null,"40580ce4",null),v=S.exports,_={page:{title:"Subir logo",meta:[{name:"description",content:"Subir logo"}]},apollo:{company:g["LOCAL_COMPANY"],myAccount:{query:g["COMPANY_INFO"],variables(){return{company:this.company.number}},skip(){return!this.company},error(t){this.error=t.message}}},components:{LayoutWebMobile:r["a"],UploadLogo:v},computed:{companyLogo(){return this.myAccount&&this.myAccount.companies[0].company.companyLogo?this.myAccount.companies[0].company.companyLogo:null}},methods:{goBack(){this.$router.gxAnim="slide-right",this.$router.push({name:"dashboard"})}}},A=_,L=Object(k["a"])(A,o,s,!1,null,null,null);e["default"]=L.exports},"3c2e":function(t,e,a){},ba6e:function(t,e,a){"use strict";var o=a("3c2e"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-5eadfd53.c1241b1a.js.map