(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5eadfd53"],{"2c82":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("LayoutWebMobile",{attrs:{title:t.companyLogo?"Actualizar logotipo":"Sube el logotipo",icon:"keyboard_backspace","icon-click-handler":t.goBack}},[o("UploadLogo")],1)},r=[],s=o("42b5"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return"mo"===t.$mq?o("div",{staticClass:"flex-grow flex flex-col items-center p-4 text-center"},[o("p",{staticClass:"mb-8"},[t._v("Este logotipo aparecerá en tu perfil y los documentos que emitas en Chain.")]),o("GxFileDragAndDrop",{attrs:{"original-image":t.companyLogo,label:t.inputLabel},model:{value:t.imageSrc,callback:function(e){t.imageSrc=e},expression:"imageSrc"}}),t.editMode?t._e():o("p",{staticClass:"gx-caption"},[t._v("No tengo logo, "),o("button",{staticClass:"font-bold text-center mb-4",on:{click:function(e){t.skipStep=!t.skipStep}}},[t._v("omitir este paso")])]),t.skipStep?o("GxCardModal",{attrs:{headline:"¿Seguro que quieres salir?","text-body":"Podrás subir el logo cuando esté listo, aunque te recomendamos hacerlo ahora.","card-img":t.$utils.alertImages.Cry,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[o("div",{staticClass:"flex ml-auto de:mx-auto"},[o("GxButton",{staticClass:"text-alert mr-4 uppercase",attrs:{plain:"mo"===t.$mq,ghost:"de"===t.$mq},on:{click:t.doItLater}},[t._v("salir")]),o("GxButton",{staticClass:"text-primary uppercase",attrs:{plain:"mo"===t.$mq},on:{click:t.closeModal}},[t._v("continuar")])],1)]},proxy:!0}],null,!1,740727325)}):t._e()],1):o("div",{staticClass:"flex-grow flex flex-col items-center"},[t.editMode?o("GxDesktopHeader",{staticClass:"self-start",attrs:{icon:"keyboard_backspace",header:"Actualizar Logo","icon-click-handler":t.goBack}}):o("GxDesktopHeader",{staticClass:"self-start",attrs:{icon:"receipt",header:"Sube el logotipo"}}),o("p",{staticClass:"self-start"},[t._v("Este logotipo aparecerá en tu perfil y los documentos que emitas en Chain.")]),o("main",{staticClass:"flex-grow flex-col flex justify-center items-center "},[o("GxFileDragAndDrop",{attrs:{"original-image":t.companyLogo,label:t.inputLabel},model:{value:t.imageSrc,callback:function(e){t.imageSrc=e},expression:"imageSrc"}}),t.editMode?t._e():o("p",{staticClass:"text-center mt-2 de:gx-caption"},[t._v("No tengo logo, "),o("button",{staticClass:"font-bold text-center de:gx-caption",on:{click:function(e){t.skipStep=!t.skipStep}}},[t._v("omitir este paso")])])],1),o("transition",{attrs:{mode:"out-in"}},[t.skipStep?o("GxCardModal",{key:"skip-confirmation",attrs:{headline:"¿Seguro que quieres salir?","text-body":"Podrás subir el logo cuando esté listo, aunque te recomendamos hacerlo ahora.","card-img":t.$utils.alertImages.Cry,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[o("div",{staticClass:"flex ml-auto de:mx-auto mt-8"},[o("GxButton",{staticClass:"mr-4",attrs:{plain:"mo"===t.$mq,ghost:"de"===t.$mq},on:{click:t.doItLater}},[t._v("salir")]),o("GxButton",{staticClass:"text-primary",attrs:{plain:"mo"===t.$mq},on:{click:t.closeModal}},[t._v("continuar")])],1)]},proxy:!0}],null,!1,2895957231)}):t._e(),t.showUploadCSDSummary?o("GxModal",{key:"cds-info-modal",attrs:{alt:"modal"}},[o("div",{staticClass:"flex-grow flex flex-col w-108 bg-white text-black shadow-3 rounded-lg px-12 py-8"},[o("div",{staticClass:"flex-grow flex items-center justify-center mb-4"},[o("img",{attrs:{src:t.$utils.alertImages.Do,alt:"alt"}})]),o("h1",{staticClass:"gx-h4 font-bold text-center mb-4"},[t._v("Sube el Certificado de Sello Digital (CSD)")]),o("p",[t._v("El CSD es un archivo digital emitido por el SAT que se usa únicamente para facturar. Recuerda que es diferente a la Fiel. "),o("GxIcon",{attrs:{icon:"help"}})],1),o("p",{staticClass:"mb-4"},[t._v("El CSD está compuesto de tres elementos:")]),o("ol",{staticClass:"px-2"},[o("li",{staticClass:"mb-4"},[t._v("1. Certificado de seguridad (archivo .cer)")]),o("li",{staticClass:"mb-4"},[t._v("2. Llave privada (archivo .key)")]),o("li",[t._v("3. Contraseña de la llave privada")])]),o("div",{staticClass:"flex flex-col mt-2 items-center"},[o("p",{staticClass:"de:gx-caption mb-8"},[t._v("Tu información está protegida. "),o("GxTextLink",{staticClass:"font-bold",attrs:{"target-blank":"",to:{name:"privacypolicy"}}},[t._v("Conoce cómo.")])],1),o("GxButton",{staticClass:"mx-auto",on:{click:function(e){return t.$router.push({name:"howtouploadcsd"})}}},[t._v("Continuar")]),o("GxTextLink",{staticClass:"text-center",on:{click:function(e){e.preventDefault(),t.showSkipCSDAlert=!t.showSkipCSDAlert}}},[t._v("Hacerlo después")])],1)])]):t._e()],1),t.customError?o("GxCardModal",{attrs:{headline:"Hubo un error","card-img":t.$utils.alertImages.Oops,alt:"Comprueba que tu información esté correcta y que sean archivos de tu CSD","text-body":t.customError},on:{click:function(e){t.customError=!t.customError}}}):t._e(),t.showSkipCSDAlert?o("GxCardModal",{attrs:{headline:"¿No tienes los certificados?","text-body":"Recibe un correo electrónico para que nos respondas con tus archivos y nosotros nos encargaremos del resto.","card-img":t.$utils.alertImages.Dissapointed,alt:t.alertAlt},scopedSlots:t._u([{key:"actions",fn:function(){return[o("div",{staticClass:"flex justify-center de:mt-8"},[o("GxButton",{staticClass:"de:text-alert de:border-alert mr-4",attrs:{ghost:""},on:{click:t.toDashboard}},[t._v("salir")]),o("GxButton",{attrs:{loading:t.cardLoading},on:{click:t.sendEmail}},[t._v("recibir mail")])],1)]},proxy:!0}],null,!1,644611080)}):t._e()],1)},n=[],c=(o("96cf"),o("1da1")),l=o("8785"),u=o("2f78"),m=o("524e"),d=o("0d9e"),p=o("4847"),g=o("3a1a"),h=o("0ae0"),f=o("4c6a"),x=o("9530"),y=o.n(x);function b(){var t=Object(l["a"])(["\n      {\n        company @client {\n          number\n        }\n      }\n    "]);return b=function(){return t},t}var C={name:"UploadLogo",components:{GxIcon:m["a"],GxCardModal:d["a"],GxModal:p["a"],GxDesktopHeader:g["a"],GxFileDragAndDrop:u["a"]},apollo:{company:y()(b()),myAccount:f["COMPANY_INFO"]},data:function(){return{showSkipCSDAlert:!1,imageSrc:null,skipStep:!1,summaryImg:o("d289"),alertAlt:"¿Seguro que quieres salir?",showUploadCSDSummary:!1,loading:!1,customError:null,cardLoading:!1}},computed:{editMode:function(){return this.$route&&this.$route.query.edit},companyLogo:function(){return this.myAccount&&this.myAccount.companies[0].company.companyLogo?this.myAccount.companies[0].company.companyLogo:null},inputLabel:function(){return this.companyLogo?"CAMBIAR LOGO":"SUBIR LOGO"}},watch:{imageSrc:function(t){this.$router.push({name:"resizelogo",params:{imageSrc:t},query:{edit:this.editMode}})}},methods:{goBack:function(){this.editMode?this.$router.push({name:"dashboard"}):(this.$router.gxAnim="slide-right",this.$router.back())},closeModal:function(){this.skipStep=!this.skipStep},sendEmail:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.cardloading=!0,e.next=4,t.$apollo.mutate({mutation:h["SEND_EMAIL_UPLOAD_CSD"],variables:{companyNumber:t.myAccount.companies[0].company.companyNumber}});case 4:t.cardloading=!1,t.$router.push({name:"dashboard"}),e.next=14;break;case 8:e.prev=8,e.t0=e["catch"](0),t.loading=!1,t.customError=t.$utils.parseServerError(e.t0),o=setTimeout((function(){t.customError=null}),3e3),t.$once("hook:destroyed",(function(){clearTimeout(o)}));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))()},nextPage:function(){alert("implement")},toDashboard:function(){this.$router.push({name:"dashboard"})},doItLater:function(){"mo"===this.$mq?this.$router.push({name:"uploadcsdsummary"}):(this.skipStep=!1,this.showUploadCSDSummary=!0)}}},k=C,v=(o("ba6e"),o("2877")),S=Object(v["a"])(k,i,n,!1,null,"40580ce4",null),_=S.exports,A={page:{title:"Subir logo",meta:[{name:"description",content:"Subir logo"}]},apollo:{company:f["LOCAL_COMPANY"],myAccount:{query:f["COMPANY_INFO"],variables:function(){return{company:this.company.number}},skip:function(){return!this.company},error:function(t){this.error=t.message}}},components:{LayoutWebMobile:s["a"],UploadLogo:_},computed:{companyLogo:function(){return this.myAccount&&this.myAccount.companies[0].company.companyLogo?this.myAccount.companies[0].company.companyLogo:null}},methods:{goBack:function(){this.$router.gxAnim="slide-right",this.$router.push({name:"dashboard"})}}},L=A,$=Object(v["a"])(L,a,r,!1,null,null,null);e["default"]=$.exports},"3c2e":function(t,e,o){},ba6e:function(t,e,o){"use strict";var a=o("3c2e"),r=o.n(a);r.a}}]);
//# sourceMappingURL=chunk-5eadfd53-legacy.16569ec2.js.map