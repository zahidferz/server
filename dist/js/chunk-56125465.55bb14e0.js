(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56125465"],{"61e5":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("IncomeStatement")},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full px-10 justify-center pb-15"},[s("div",{staticClass:"flex flex-col w-full wrapper"},[s("div",{staticClass:"flex title text-2xl"},[e._v(" Estado de Resultados ")]),s("div",{staticClass:"flex -ml-4 juditfy-between"},[s("div",{staticClass:"flex w-full"},[s("div",{staticClass:"flex w-51"},[e.beginningPeriod&&e.endingPeriod?s("GxPeriodsDropdown",{ref:"PeriodInit",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período inicial",label:"Período inicial","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodInit}}):e._e()],1),s("div",{staticClass:"w-51 -ml-4"},[e.beginningPeriod&&e.endingPeriod?s("GxPeriodsDropdown",{ref:"PeriodEnd",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período final",label:"Período final","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodEnd}}):e._e()],1),s("div",{staticClass:"w-51 -ml-4"},[s("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Mostrar cuentas en ceros",label:"Mostrar cuentas en ceros",options:["No","Si"]},model:{value:e.showZeroBalanceAccounts,callback:function(t){e.showZeroBalanceAccounts=t},expression:"showZeroBalanceAccounts"}})],1),s("div",{staticClass:"w-51 -ml-4 hidden"},[s("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Mostrar porcentajes",label:"Mostrar porcentajes",options:["No","Si"]},model:{value:e.showPercentages,callback:function(t){e.showPercentages=t},expression:"showPercentages"}})],1)]),s("div",{staticClass:"flex"},[this.beginningPeriod?s("GxButtonActions",{staticClass:"mt-5",attrs:{buttonsActions:e.getButtonsActions},on:{downloadPDF:e.downloadPDF,downloadExcel:e.downloadExcel}}):e._e()],1)]),this.$apollo.queries.getIncomeStatement.loading?s("div",{staticClass:"flex w-full mt-10"},[s("GxLoader")],1):e._e(),e.incomeStatement?s("div",{staticClass:"flex w-full -mt-4"},[s("GxIncomeStatement",{attrs:{incomeStatement:e.incomeStatement,periodId:e.endingPeriodId}})],1):e._e()])])},l=[],a=(s("fb6a"),s("25f0"),s("b8ed")),r=s("f26c"),d=s("e8f2"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col w-full rounded-lg border-1 border-incomeStatementBorder"},[s("div",{staticClass:"flex flex-row justify-between rounded-t-lg h-7.5 bg-ledgerAccountTypes-expenses"},[s("div",{staticClass:"flex w-full"}),s("div",{staticClass:"flex items-center text-white text-sm"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNamePeriod+" "+e.getYear))]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" Acomulado "+e._s(e.getYear))]),s("div",{staticClass:"flex w-42"})])]),s("div",{staticClass:"flex flex-col w-full py-7.5"},[e.incomeStatement.grossProfitAccounts.sales.length>0?s("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Ventas (Ingresos)")]):e._e(),e._l(e.incomeStatement.grossProfitAccounts.sales,(function(t){return s("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[s("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),s("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.grossProfitAccounts.costOfGoodsSold.length>0?s("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Costo de Ventas (Egresos)")]):e._e(),e._l(e.incomeStatement.grossProfitAccounts.costOfGoodsSold,(function(t){return s("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[s("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),s("div",{staticClass:"flex w-42"})])])})),s("div",{staticClass:"flex w-full font-bold pl-4"},[s("div",{staticClass:"flex w-full pl-8 justify-end text-xs font-bold"},[e._v(" Utilidad Bruta ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end"},[s("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.grossProfitAccounts.periodGrossProfit.toString()))+" ")])]),s("div",{staticClass:"flex w-51 justify-end"},[s("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.grossProfitAccounts.accumulatedGrossProfit.toString())))])]),s("div",{staticClass:"flex w-42"})])]),s("div",{staticClass:"flex w-full font-bold h-10"}),e.incomeStatement.operatingCostsAccounts.otherIncome.length>0?s("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Otros Ingresos (Ingresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.otherIncome,(function(t){return s("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[s("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),s("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.operatingCostsAccounts.expenses.length>0?s("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Gastos (Egresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.expenses,(function(t){return s("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[s("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),s("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.operatingCostsAccounts.otherExpenses.length>0?s("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Otros Gastos (Egresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.otherExpenses,(function(t){return s("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[s("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),s("div",{staticClass:"flex w-42"})])])})),s("div",{staticClass:"flex w-full font-bold pl-4"},[s("div",{staticClass:"flex w-full pl-8 justify-end text-xs font-bold"},[e._v(" Gastos de Operación ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end"},[s("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.operatingCostsAccounts.periodOperatingCosts.toString()))+" ")])]),s("div",{staticClass:"flex w-51 justify-end"},[s("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.operatingCostsAccounts.accumulatedOperatingCosts.toString())))])]),s("div",{staticClass:"flex w-42"})])])],2),s("div",{staticClass:"flex flex-row justify-between rounded-b-lg h-7.5 bg-incomeStatementBorder"},[s("div",{staticClass:"flex w-full  justify-end font-bold items-center"},[e._v(" Utilidad o Pérdida del Ejercicio ")]),s("div",{staticClass:"flex items-center text-xs"},[s("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.periodProfitOrLoss.toString()))+" ")]),s("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.accumulatedProfitOrLoss.toString()))+" ")]),s("div",{staticClass:"flex w-42"})])])])},u=[],m=(s("2532"),s("5319"),{name:"GxIncomeStatement",props:{incomeStatement:{type:Object,default:null,required:!0},periodId:{type:Number,default:0,required:!0}},computed:{getNamePeriod(){let e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e[Number(this.periodId.toString().slice(4))-1]},getYear(){return this.periodId.toString().slice(0,4)}},methods:{getNumberFormat(e){return""===e||"0"===e||"0.00"===e?"-":e.includes(".")?e.replace(/^\d+\.$/,"$&00").replace(/\d(?=(\d{3})+\.)/g,"$&,"):(e=e.replace(/^\d+\.$/,"$&00").replace(/\.\d$/,"0$&0").replace(/\d+\.$/,"$&00").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),"0"==e?"":"0"==e||""==e?e:e+".00")}}}),f=m,g=s("2877"),h=Object(g["a"])(f,c,u,!1,null,null,null),p=h.exports,x=s("4c6a"),b={name:"IncomeStatement",data(){return{incomeStatement:null,beginningPeriod:null,endingPeriod:null,beginningPeriodId:null,endingPeriodId:null,showZeroBalanceAccounts:"No",showPercentages:"No",skipIncomeStatement:!0,typeFileDownload:""}},components:{GxPeriodsDropdown:a["a"],GxDropdown:d["a"],GxButtonActions:r["a"],GxIncomeStatement:p},apollo:{getIncomeStatement:{query:x["k"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,showZeroBalanceAccounts:"Si"===this.showZeroBalanceAccounts,showPercentages:"Si"===this.showPercentages,assumeLastAnnualPeriodIsClosed:!0}},update(e){this.incomeStatement=e.myAccountingFirms[0].clients[0].accounting.reports.incomeStatement},skip(){return this.skipIncomeStatement},fetchPolicy:"no-cache"},getIncomeStatementPDFOrExcel:{query:x["l"],variables(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,showZeroBalanceAccounts:"Si"===this.showZeroBalanceAccounts,showPercentages:"Si"===this.showPercentages,assumeLastAnnualPeriodIsClosed:!0,fileType:this.typeFileDownload}},update(e){window.open(e.myAccountingFirms[0].clients[0].accounting.reports.incomeStatementExport.url,"Download"),this.typeFileDownload=""},skip(){return""===this.typeFileDownload},fetchPolicy:"no-cache"}},computed:{getButtonsActions(){let e=[{name:"Descargar balance general en Excel",icon:"cloud_download",type:"method",action:"downloadExcel"},{name:"Descargar balance general en PDF",icon:"cloud_download",type:"method",action:"downloadPDF"}];return e}},created(){this.beginningPeriod=localStorage.getItem("beginningPeriod"),this.endingPeriod=localStorage.getItem("endingPeriod"),localStorage.getItem("periodDefault")?(this.beginningPeriodId=Number(localStorage.getItem("periodDefault")),this.endingPeriodId=Number(localStorage.getItem("periodDefault"))):(this.beginningPeriodId=this.endingPeriod,this.endingPeriodId=this.endingPeriod),setTimeout(()=>{this.$refs.PeriodInit.changeValue(this.beginningPeriodId),this.$refs.PeriodEnd.changeValue(this.endingPeriodId)},50)},methods:{selectedPeriodInit(e){this.skipIncomeStatement=!0,this.incomeStatement=null,(e>this.endingPeriodId||e.toString().slice(0,4)!==this.endingPeriodId.toString().slice(0,4))&&(this.$refs.PeriodEnd.changeValue(e),this.endingPeriodId=e),this.beginningPeriodId=e,this.skipIncomeStatement=!1},selectedPeriodEnd(e){this.skipIncomeStatement=!0,this.incomeStatement=null,(e<this.beginningPeriodId||e.toString().slice(0,4)!==this.beginningPeriodId.toString().slice(0,4))&&(this.beginningPeriodId=e,this.$refs.PeriodInit.changeValue(e)),this.endingPeriodId=e,this.skipIncomeStatement=!1},downloadPDF(){this.typeFileDownload="pdf"},downloadExcel(){this.typeFileDownload="excel"}}},w=b,v=Object(g["a"])(w,o,l,!1,null,null,null),P=v.exports,C={name:"IncomeStatementView",components:{IncomeStatement:P}},S=C,y=Object(g["a"])(S,i,n,!1,null,null,null);t["default"]=y.exports},b8ed:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",options:e.listPeriods,placeholder:e.placeholder,label:e.label,"allow-empty":!1},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},n=[],o=(s("c975"),s("fb6a"),s("25f0"),s("1276"),s("498a"),s("e8f2")),l={name:"GxPeriodsDropdown",data(){return{periodId:null,period:null,selected:"",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],listPeriods:null}},props:{defaultYear:{type:Number,default:null,required:!1},defaultMonth:{type:Number,default:null,required:!1},beginningPeriod:{type:String,default:null,required:!0},endingPeriod:{type:String,default:null,required:!0},label:{type:String,default:null},placeholder:{type:String,default:null}},components:{GxDropdown:o["a"]},watch:{selected(e){if(e){let t=e.split(" ");this.$emit("selectedPeriod",Number(t[1].trim()+"0"+(this.months.indexOf(t[0].trim())+1).toString().slice(-2)))}}},created(){this.listPeriods=this.getListPeriods(),null!==this.defaultYear&&null!==this.defaultMonth&&(this.selected=this.months[this.defaultMonth-1]+" "+this.defaultYear)},methods:{getListPeriods(){let e=Number(this.beginningPeriod.toString().substring(0,4)),t=Number(this.beginningPeriod.toString().substring(4)),s=Number(this.endingPeriod.toString().substring(0,4)),i=Number(this.endingPeriod.toString().substring(4)),n=new Array;while(e<=s){for(0;t<=(e===s?i:12);t++)n.push(this.months[t-1]+" "+e);t=1,e++}return n},changeValue(e){e=e.toString(),this.selected=this.months[Number(e.slice(4))-1]+" "+e.slice(0,4)}}},a=l,r=s("2877"),d=Object(r["a"])(a,i,n,!1,null,null,null);t["a"]=d.exports},f26c:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"relative"},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.showItems,expression:"this.showItems"}],staticClass:"mt-4 absolute border border-gray-700 rounded-lg shadow-4 right-4 origin-top-right text-left z-1"},[s("div",{staticClass:"whitespace-no-wrap bg-white rounded-lg shadow-lg cursor-pointer"},[s("div",{staticClass:"border-gray-200 py-1.5"},e._l(this.buttonsActions,(function(t){return s("div",{key:t.name,staticClass:"flex content-center h-7.5 text-gray-700 hover:bg-otherOptions-hover active:bg-otherOptions-click align-middle px-2 py-1",on:{click:function(s){return e.clickMenuOption(t)}}},[s("GxIcon",{staticClass:"align-middle ml-1.5 mr-1.5 pr-1 pt-px",style:{fontSize:"19px"},attrs:{icon:t.icon}}),s("span",{staticClass:"align-middle pr-1.5 text-sm"},[e._v(" "+e._s(t.name))])],1)})),0)])])]),s("div",{staticClass:"flex flex-col content-center justify-center rounded-lg w-7.5 h-7.5 text-center text-gray-500 border-gray-500 border-1 cursor-pointer hover:bg-otherOptions-hover active:bg-otherOptions-click bg-white",on:{click:this.clickMenu}},[s("input",{ref:"uploadFileButtonActions",staticClass:"hidden",attrs:{type:"file",id:"uploadFileButtonActions",accept:e.getExtensionsList},on:{change:function(t){return e.addFileButton(t)}}}),e._m(0)])],1)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex justify-center pt-px pl-px"},[s("span",{staticClass:"text-2xs"},[e._v("•••")])])}],o=(s("e6cf"),s("5319"),s("524e")),l={name:"GxButtonActions",data(){return{showItems:!1,methodFile:"",extension:""}},props:{buttonsActions:{Type:Array,default:null}},components:{GxIcon:o["a"]},computed:{getExtensionsList(){return""!==this.extension?this.extension:".*"}},mounted(){const e=e=>{this.$el.contains(e.target)||(this.showItems=!1)};document.addEventListener("click",e),this.$once("hook:beforeDestroy",()=>{document.removeEventListener("click",e)})},methods:{clickMenu(){this.showItems=!this.showItems},clickMenuOption(e){switch(this.methodFile="",this.extension="",e.type){case"method":this.$emit(e.action);break;case"link":window.open(e.action,"_blank");break;case"download":window.open(e.action,"Download");break;case"file":this.methodFile=e.action,this.extension=e.additionalData,setTimeout(()=>{this.$refs.uploadFileButtonActions.click(),this.showItems=!1},10);break}this.showItems=!1},async addFileButton(e){this.file=e.target.files[0],this.getBase64()},getBase64(){this.fileName=this.file.name,this.loadingFile=!0;let e=new FileReader;e.onloadend=()=>{this.fileBase64=e.result.replace(/^data:.+;base64,/,""),this.$emit(this.methodFile,this.fileBase64,this.fileName),this.methodFile="",this.extension=""},e.readAsDataURL(this.file)}}},a=l,r=s("2877"),d=Object(r["a"])(a,i,n,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-56125465.55bb14e0.js.map