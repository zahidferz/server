(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c4d44f5"],{"42b5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"mo"===e.$mq?a("MqLayout",{key:"layout",staticClass:"flex flex-col bg-white",attrs:{id:"layout",mq:"mo"}},[a("header",{key:"topbar-container",staticClass:"sticky top-0 z-20 bg-white top-bar",class:{"shadow-5":e.tabs,"shadow-3":e.hasScrolled}},[a("transition",{key:"default-transition",attrs:{name:"input-fade",mode:"out-in"},on:{"after-enter":e.focusMobileSearch}},[e.mobileSearch?a("nav",{key:"search-container",staticClass:"flex items-center p-4 h-14 justify-left gx-h5",class:[e.onSearchClasses]},[a("button",{staticClass:"flex items-center mr-4 leading-none focus:outline-none"},[a("GxIcon",{attrs:{icon:"close"},on:{click:function(t){return t.stopPropagation(),e.cancelMobileSearch(t)}}})],1),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],ref:"mobileSearch",staticClass:"w-full leading-none bg-transparent focus:outline-none gxMobileSearchInput",class:e.placeholderColor,attrs:{placeholder:e.placeholder,autofocus:"",type:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):a("nav",{key:"default-topbar",staticClass:"flex justify-start w-full p-4 h-14 items-bottom"},[!e.mobileSearch&&e.breadcrumb?a("GxBreadcrumb",{key:"GxBreadcrumb",attrs:{classes:e.hasScrolled?e.breadcrumbClassesWithScroll:e.breadcrumbClassesWithoutScroll,"has-scrolled":e.hasScrolled}},[a("h1",{staticClass:"font-bold gx-h5"},[e._v(e._s(e.title))])]):e._e(),e.mobileSearch||e.breadcrumb?e._e():a("h1",{key:"title-container",staticClass:"flex items-center font-bold justy-left items-bottom gx-h5"},[e.iconClickHandler?a("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon,"html-tag":"button"},on:{click:function(t){return t.stopPropagation(),e.iconClickHandler(t)}}}):e.hasDrawer&&!e.iconClickHandler?a("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon,"html-tag":"button"},on:{click:function(t){t.stopPropagation(),e.drawerLeft=!e.drawerLeft}}}):a("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon}}),e._t("title",[a("span",[e._v(" "+e._s(e.title)+" ")])])],2),a("div",{key:"right-icons",staticClass:"flex items-center ml-auto gx-h5"},[e._t("topbar-right"),e.hasSearch?a("GxIcon",{key:"search-icon",staticClass:"leading-none icon-button focus:outline-none",attrs:{"html-tag":"button",icon:"search"},on:{click:function(t){e.mobileSearch=!0}}}):e._e(),e.hasDrawerRight?a("GxIcon",{key:"right-drawer",staticClass:"ml-4 leading-none icon-button",attrs:{"html-tag":"button",icon:"more_vert"},on:{click:function(t){e.drawerRight=!e.drawerRight}}}):e._e()],2)],1)]),e._t("header2"),e.tabs?a("div",{key:"tabs-container"},[e._t("tabs")],2):e._e()],2),e.hasDrawer?a("TopBarLeftDrawer",{key:"TopBarLeftDrawer",attrs:{open:e.drawerLeft,"a-drawer-open":e.drawerOPen},on:{open:function(t){e.drawerOPen=!0},close:function(t){return e.onCloseDrawer("drawerLeft")}}}):e._e(),e.hasDrawerRight?a("TopBarRightDrawer",{key:"TopBarRightDrawer",attrs:{open:e.drawerRight,"a-drawer-open":e.drawerOPen},on:{open:function(t){e.drawerOPen=!0},close:function(t){return e.onCloseDrawer("drawerRight")}}}):e._e(),a("div",{staticClass:"flex flex-col flex-grow",class:{"gx-padding-menu pb-14":e.withPaddingBottom},attrs:{id:"mobileMainContent"}},[e._t("default",null,null,{hasScrolled:e.hasScrolled,search:e.search})],2)],1):a("div",{staticClass:"flex flex-col flex-grow",class:{"pb-4":e.withPaddingBottom}},[e._t("default")],2)},r=[],i=(a("caad"),a("ac1f"),a("2532"),a("5319"),a("841c"),a("524e")),s=a("f21d"),l=a("6f0d"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"flex-grow flex justify-start"},[a("RouterLink",{staticClass:"flex justify-start items-center gx-h5",attrs:{tag:"li",to:{name:"dashboard"}}},[a("GxIcon",{class:[e.classes.icon],attrs:{icon:"dashboard"}}),a("GxIcon",{staticClass:"gxNext mx-1",class:[e.classes.next],attrs:{icon:"navigate_next"}})],1),e._l(e.matchedRoutes,(function(t,n){return a("RouterLink",{key:t.name,staticClass:"flex justify-start items-center  gx-h5",attrs:{tag:"li",to:{name:t.name}}},[t.meta.icon?[a("GxIcon",{class:[t.name===e.$route.name||t.redirect.name===e.$route.name?e.classes.active:e.classes.icon],attrs:{icon:t.meta.icon}}),n!==e.matchedRoutes.length-1&&e.matchedRoutes[n+1].meta.icon?a("GxIcon",{staticClass:"mx-1  gxNext",class:[e.classes.next],attrs:{icon:"navigate_next"}}):e._e()]:e._e()],2)})),a("div",{staticClass:"ml-4 title"},[e._t("default")],2)],2)},c=[],u=(a("fb6a"),{name:"GxBreadcrumb",components:{GxIcon:i["a"]},props:{hasScrolled:{type:Boolean,default:!1},classes:{type:Object,default:null}},computed:{matchedRoutes:function(){return this.$route.matched.slice(1)}}}),d=u,h=(a("8e44"),a("2877")),f=Object(h["a"])(d,o,c,!1,null,"3157a3f7",null),m=f.exports,p={name:"LayoutWebMobile",components:{TopBarLeftDrawer:s["a"],TopBarRightDrawer:l["a"],GxBreadcrumb:m,GxIcon:i["a"]},props:{dark:{type:Boolean,default:!1},breadcrumb:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},onSearchClasses:{type:String,default:"text-black"},placeholder:{type:String,default:"Buscar"},hasDrawer:{type:Boolean,default:!1},hasDrawerRight:{type:Boolean,default:!1},hasStickyElement:{type:Boolean,default:!1},title:{type:String,default:null},icon:{type:String,default:""},iconClassWithoutScroll:{type:String,default:"text-black"},iconClassWithScroll:{type:String,default:"text-black"},topBarClassWithScroll:{type:String,default:""},topBarClassWithoutScroll:{type:String,default:"text-black bg-white"},iconClickHandler:{type:Function,default:null},iconRight:{type:String,default:null},iconRightClickHandler:{type:Function,default:null},withPaddingBottom:{type:Boolean,default:!0},noHorizontalPadding:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},breadcrumbClassesWithScroll:{type:Object,default:function(){return{icon:"text-gray-700",next:"text-black",active:"text-primary"}}},breadcrumbClassesWithoutScroll:{type:Object,default:function(){return{icon:"text-gray-700",next:"text-black",active:"text-primary"}}},searchTerm:{type:String,default:""}},data:function(){return{hasScrolled:!1,activeDeskTopBarMenu:null,drawerLeft:!1,mobileSearch:!1,drawerRight:!1,customTopBar:!1,drawerOPen:!1,search:""}},computed:{hasTopBar:function(){return this.title||this.icon||this.iconRight||this.hasDrawer},iconClasses:function(){return this.hasScrolled?this.iconClassWithScroll:this.iconClassWithoutScroll},topBarClasses:function(){return this.hasScrolled?(this.topBarClassWithScroll.includes("bg-"),this.topBarClassWithScroll):this.topBarClassWithoutScroll?this.topBarClassWithoutScroll:""},placeholderColor:function(){return"bg-primary-500 text-white"===this.onSearchClasses?"placeholder-bg-dark":"placeholder-bg-white"}},watch:{search:function(e){"mo"===this.$mq&&this.$emit("search",e)}},reactiveProvide:{name:"topBarSearch",include:["search"]},mounted:function(){var e=this;this.$route.query.searchTerm&&this.hasSearch&&this.setMobileSearch(this.$route.query.searchTerm),this.$route.query.drawerRight&&this.$nextTick((function(){e.drawerRight=!0;var t=Object.assign({},e.$route.query);delete t.drawerRight,e.$router.replace({query:t})}));var t=0,a=!1;"de"===this.$mq?document.getElementById("gxDeMain")&&document.getElementById("gxDeMain").addEventListener("scroll",(function(n){t=n.target.scrollTop,a||(window.requestAnimationFrame((function(){e.hasScrolled=t>0,a=!1})),a=!0)})):window.addEventListener("scroll",(function(n){t=window.scrollY,a||(window.requestAnimationFrame((function(){e.hasScrolled=t>0,a=!1})),a=!0)}))},created:function(){this.searchTerm&&(this.search=this.searchTerm,this.mobileSearch=!0)},methods:{onCloseDrawer:function(e){this[e]=!1,this.drawerOPen=!1},cancelMobileSearch:function(){this.search="",this.mobileSearch=!1},focusMobileSearch:function(){this.$refs.mobileSearch&&this.$refs.mobileSearch.focus()},onActiveMenu:function(e){this.activeDeskTopBarMenu=e},showCustomTopBar:function(){this.customTopBar=!0},hideCustomTopBar:function(){this.customTopBar=!1},setMobileSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search=e,this.mobileSearch=!0}}},g=p,b=(a("f320"),Object(h["a"])(g,n,r,!1,null,"f3d6798e",null));t["a"]=b.exports},"50bf":function(e,t,a){},"597e":function(e,t,a){},"64a9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BeginningBalance",{attrs:{file64:this.file64}})},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LayoutWebMobile",{attrs:{icon:"keyboard_backspace","icon-click-handler":e.beginningBalanceDeleteAll}},[a("div",{staticClass:"flex flex-col w-full items-center"},[a("div",{staticClass:"flex flex-col text-xl mt-3"},[a("span",{staticClass:"font-black"},[e._v("Configuración Inicial")])]),a("div",{staticClass:"flex flex-col mt-10"},[a("GxWizard",{attrs:{stepsProp:e.steps,stepActiveProp:4}})],1),a("div",{staticClass:"flex flex-col text-base mt-12"},[a("span",{staticClass:"font-black"},[e._v("Carga tus saldos iniciales")])]),null===this.levels?a("div",{staticClass:"flex flex-col w-full"},[a("GxLoader",{staticClass:"mt-20 mb-5"})],1):e._e(),a("div",{staticClass:"flex flex-col w-full items-start px-8"},[a("div",{staticClass:"flex flex-col items-stretch w-full mt-5"},[e.ledgerAccounts?a("GxLedgerAccounts",{staticClass:"mt-5 mb-15 w-full",attrs:{accountingFirmNumberProp:e.accountingFirmNumber,clientNumberProp:e.clientNumber,ledgerAccountsProp:e.ledgerAccounts,editCatalog:!1,showCollapsed:!0,showArrowCollapse:!1,editBeginningBalances:!0,isInitial:!0}}):e._e()],1)])]),a("div",{staticClass:"flex flex-col fixed w-full bottom-0 items-start border-t h-19 shadow-8 bg-white"},[a("div",{staticClass:"flex fixed w-50 inline"},[a("GxButton",{staticClass:"ml-10 mt-4 rounded-md gx-button",attrs:{variant:!e.loading,ghost:!e.loading,loading:e.loading},on:{click:e.beginningBalanceDeleteAll}},[e._v(" REGRESAR ")])],1),a("div",{staticClass:"flex fixed w-50 inline right-0"},[a("GxButton",{staticClass:"mr-10 mt-4 gx-button",attrs:{variant:!0},on:{click:e.goNext}},[e._v(" SIGUIENTE ")])],1)]),e.errorDescription?a("GxCardModal",{attrs:{headline:"Error al cargar los saldos iniciales",caption:e.errorDescription,"card-img":e.$utils.alertImages.Oops,alt:"Error",delayAnimation:""},scopedSlots:e._u([{key:"actions",fn:function(){return[a("div",{staticClass:"flex justify-center mt-4"},[a("GxButton",{on:{click:e.closeModel}},[e._v("ACEPTAR")])],1)]},proxy:!0}],null,!1,3694232332)}):e._e()],1)},s=[],l=(a("a15b"),a("96cf"),a("1da1")),o=a("42b5"),c=a("dd9b"),u=a("7fc4"),d=a("51b4"),h=a("0d9e"),f=a("4c6a"),m=a("0ae0"),p={name:"BeginningBalance",components:{LayoutWebMobile:o["a"],GxWizard:c["a"],GxLedgerAccounts:u["a"],GxLoader:d["a"],GxCardModal:h["a"]},data:function(){return{accountingFirm:null,accountingFirmNumber:null,clientNumber:null,loading:!1,error:null,steps:["Elige tu catálogo","Personaliza tu catálogo","Periodo inicial","Saldos iniciales","¡Listo!"],ledgerAccounts:null,levels:null,skipLedgerAccounts:!0,errorDescription:""}},apollo:{myAccountingFirms:{query:f["d"]},getLedgerAccounts:{query:f["q"],variables:function(){return{clientNumber:[this.clientNumber]}},update:function(e){this.accountingFirmNumber=e.myAccountingFirms[0].accountingFirmNumber,this.ledgerAccounts=e.myAccountingFirms[0].clients[0].accounting.chartOfAccounts.ledgerAccounts,this.levels=e.myAccountingFirms[0].clients[0].accounting.chartOfAccounts.levels,0===this.levels&&null===this.processId&&this.$router.push({name:"templates"})},skip:function(){return this.skipLedgerAccounts},fetchPolicy:"no-cache"}},props:{file64:{type:String,default:null}},created:function(){return this.clientNumber=localStorage.getItem("companyNumber"),this.skipLedgerAccounts},mounted:function(){this.typeTemplate=localStorage.getItem("typeTemplate")},watch:{myAccountingFirms:{handler:function(e){e&&(this.accountingFirm=e[0],this.file64?this.sendFileBeginningBalance():this.skipLedgerAccounts=!1)}}},methods:{sendFileBeginningBalance:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apollo.mutate({mutation:m["f"],variables:{accountingFirmNumber:e.accountingFirm.accountingFirmNumber,clientNumber:e.clientNumber,file:e.file64}});case 3:if(a=t.sent,null===a.data.configSetBeginningBalanceFromFile.error||null!==a.data.configSetBeginningBalanceFromFile.ledgerAccounts){t.next=12;break}return e.errorDescription=a.data.configSetBeginningBalanceFromFile.error.message,null!==a.data.configSetBeginningBalanceFromFile.error.details&&a.data.configSetBeginningBalanceFromFile.error.details.length>0&&(e.errorDescription+=", "+a.data.configSetBeginningBalanceFromFile.error.details.join(", ")),e.$root.$emit("setTemporaryFile64",""),e.skipLedgerAccounts=!1,t.abrupt("return");case 12:e.$root.$emit("setTemporaryFile64",""),e.skipLedgerAccounts=!1;case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t["catch"](0),e.errorDescription=e.$utils.parseServerError(t.t0),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},goNext:function(){this.$router.push({name:"finishConfiguration"})},goToPreviewTemplate:function(e){this.$router.push({name:"previewTemplate",params:{typeTemplateProps:e}})},closeModel:function(){this.errorDescription=""},beginningBalanceDeleteAll:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$apollo.mutate({mutation:m["a"],variables:{accountingFirmNumber:e.accountingFirmNumber,clientNumber:e.clientNumber}});case 4:a=t.sent,a.data.configBeginningBalanceDeleteAll.successful&&null===a.data.configBeginningBalanceDeleteAll.error?(localStorage.setItem("backBeginningBalance",!0),e.$router.push({name:"initialPeriod"})):e.errorDescription=a.data.configBeginningBalanceDeleteAll.error.message+" - "+a.data.configBeginningBalanceDeleteAll.error.details.join(""),e.loading=!1,console.log(a),t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}},g=p,b=a("2877"),x=Object(b["a"])(g,i,s,!1,null,null,null),v=x.exports,y={name:"BeginningBalanceView",components:{BeginningBalance:v},data:function(){return{}},props:{file64:{type:String,default:null}}},w=y,C=Object(b["a"])(w,n,r,!1,null,null,null);t["default"]=C.exports},"8e44":function(e,t,a){"use strict";var n=a("50bf"),r=a.n(n);r.a},dd9b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex"},e._l(this.steps,(function(t,n){return a("div",{key:n,staticClass:"flex flex-col items-center w-41"},[a("div",{staticClass:"flex justify-between w-41"},[a("div",{staticClass:"flex flex-col w-18 float-right ",class:{invisible:0===n,"bg-primary":e.stepActive>=n+1,"bg-gray-300":e.stepActive!=n+1&&!e.stepActive>=n+1},staticStyle:{"margin-top":"0.625rem",height:"1.5px"}}),a("div",{staticClass:"flex flex-col w-6 h-6 pt-px border-solid border-2 border-primary rounded-full text-center",class:{"bg-primary":e.stepActive-1>=n+1}},[e.stepActive-1>=n+1?e.stepActive-1>=n+1?a("GxIcon",{staticClass:"rounded-full text-white pt-1 ",attrs:{icon:"done"}}):e._e():a("span",{staticClass:" text-primary font-black"},[e._v(" "+e._s(n+1))])],1),a("div",{staticClass:"flex w-18 float-right h-1",class:{invisible:n+1===e.getMaxSteps,"bg-primary":e.stepActive>=n+1,"bg-gray-300":e.stepActive!=n+1&&!e.stepActive>=n+1},staticStyle:{"margin-top":"0.625rem",height:"1.5px"}})]),a("div",{staticClass:"flex flex-col mt-2 text-center",class:{"text-primary":e.stepActive===n+1||e.stepActive>=n+1,"font-black":e.stepActive===n+1}},[e._v(e._s(t))])])})),0)},r=[],i=(a("a9e3"),a("524e")),s={name:"GxWizard",data:function(){return{steps:null,stepActive:0}},props:{stepsProp:{type:Array,default:null},stepActiveProp:{type:Number,default:null}},components:{GxIcon:i["a"]},computed:{getMaxSteps:function(){return this.steps.length}},created:function(){this.steps=this.stepsProp,this.stepActive=this.stepActiveProp},methods:{nextStep:function(){this.stepActive++},backStep:function(){this.stepActive--}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,r,!1,null,null,null);t["a"]=c.exports},f320:function(e,t,a){"use strict";var n=a("597e"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-7c4d44f5-legacy.c04921f4.js.map