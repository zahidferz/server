{"version":3,"sources":["webpack:///./src/router/views/Settings/CompanySettings/ResizeLogoView.vue?6f8f","webpack:///./src/components/Settings/CompanySettings/ResizeLogo.vue?6ffb","webpack:///src/components/Settings/CompanySettings/ResizeLogo.vue","webpack:///./src/components/Settings/CompanySettings/ResizeLogo.vue?75e3","webpack:///./src/components/Settings/CompanySettings/ResizeLogo.vue?35d2","webpack:///src/router/views/Settings/CompanySettings/ResizeLogoView.vue","webpack:///./src/router/views/Settings/CompanySettings/ResizeLogoView.vue?2336","webpack:///./src/router/views/Settings/CompanySettings/ResizeLogoView.vue","webpack:///./src/assets/images/Signup/InitialTodos/mo_and_de_user_success.svg","webpack:///./src/components/Settings/CompanySettings/ResizeLogo.vue?4cba"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","goBack","imageSrc","staticRenderFns","$mq","staticClass","_v","ref","width","height","_e","staticStyle","on","$event","$refs","cropper","rotate","loading","onSubmit","customError","$utils","alertImages","Oops","Done","onSuccesModalClose","_m","preventDefault","deskZoomout","directives","name","rawName","value","expression","modifiers","domProps","scaleImage","deskRange","_n","target","$forceUpdate","deskZoomin","query","edit","editMode","components","GxCardModal","VueCropper","GxIcon","props","type","String","required","apollo","company","myAccount","companyNumber","number","file","succesTimeout","errorTimeout","croppedImage","showUpdateSuccessfulModal","updateSuccessImg","computed","$route","companies","companyLogo","$router","push","methods","Promise","resolve","reject","getCroppedCanvas","toBlob","reader","FileReader","readAsDataURL","blob","onloadend","base64data","result","croppedImageToBase64","splitImg","split","$apollo","mutate","mutation","variables","data","companyDocumentsLogo","update","store","oldData","readQuery","newLogo","writeQuery","console","log","queries","refetch","setTimeout","parseServerError","error","onErrorModalClose","clearTimeout","toDrawerRight","factor","scale","component","page","title","meta","gxAnim","back","module","exports"],"mappings":"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","file":"js/chunk-4137c6ab.8d1a97a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('LayoutWebMobile',{attrs:{\"title\":\"Ajusta tu logotipo\",\"icon\":\"keyboard_backspace\",\"icon-click-handler\":_vm.goBack}},[_c('ResizeLogo',{attrs:{\"image-src\":_vm.imageSrc}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$mq === 'mo')?_c('div',{staticClass:\"flex-grow flex flex-col items-center p-4\"},[_c('p',{staticClass:\"mb-8 text-center\"},[_vm._v(\"Este logotipo aparecer√° en tu perfil y los documentos que emitas en Chain.\")]),_c('div',[(_vm.imageSrc)?_c('VueCropper',{ref:\"cropper\",attrs:{\"src\":_vm.imageSrc,\"alt\":\"Source Image\",\"auto-crop-area\":0.5,\"min-container-width\":350,\"min-container-height\":350,\"background\":true,\"rotatable\":true,\"img-style\":{ width: '350px', height: '350px' },\"aspect-ratio\":1,\"zoomable\":true,\"crop-box-resizable\":false,\"check-orientation\":true,\"min-crop-box-width\":250,\"min-crop-box-height\":250}}):_vm._e()],1),_c('div',{staticClass:\"mt-4\",staticStyle:{\"font-size\":\"2rem\"}},[_c('GxIcon',{attrs:{\"icon\":\"rotate_90_degrees_ccw\"},on:{\"click\":function($event){return _vm.$refs.cropper.rotate(-90)}}})],1),_c('div',{staticClass:\"flex-grow flex flex-col justify-end mt-8\"},[_c('GxButton',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Guardar\")])],1),(_vm.customError)?_c('GxCardModal',{attrs:{\"headline\":_vm.customError,\"card-img\":_vm.$utils.alertImages.Oops,\"alt\":_vm.customError,\"text-body\":\"Vuelve a intentarlo\"},on:{\"click\":function($event){_vm.customError = !_vm.customError}}}):_vm._e(),(_vm.showUpdateSuccessfulModal)?_c('GxCardModal',{attrs:{\"headline\":\"Logo actualizado\",\"card-img\":_vm.$utils.alertImages.Done,\"alt\":\"Logo actualizado\"},on:{\"close\":_vm.onSuccesModalClose}}):_vm._e()],1):_c('div',{staticClass:\"flex-grow flex flex-col items-center\"},[_vm._m(0),_c('p',{staticClass:\"text-left mt-4 self-start\"},[_vm._v(\"Este logotipo aparecer√° en tu perfil y los documentos que emitas en Chain. \")]),_c('main',{staticClass:\"flex-grow flex-col flex justify-center items-center\"},[(_vm.imageSrc)?_c('VueCropper',{ref:\"cropper\",attrs:{\"src\":_vm.imageSrc,\"alt\":\"Source Image\",\"auto-crop-area\":0.5,\"min-container-width\":350,\"min-container-height\":350,\"background\":true,\"rotatable\":true,\"img-style\":{ width: '350px', height: '350px' },\"aspect-ratio\":1,\"zoomable\":false,\"crop-box-resizable\":false,\"min-crop-box-width\":250,\"min-crop-box-height\":250}}):_vm._e(),_c('div',{staticClass:\"mt-4\",staticStyle:{\"font-size\":\"2rem\"}},[_c('GxIcon',{attrs:{\"icon\":\"rotate_90_degrees_ccw\"},on:{\"click\":function($event){return _vm.$refs.cropper.rotate(-90)}}})],1),_c('div',{staticClass:\"gx-controls mt-6 flex justify-start items-center\"},[_c('GxIcon',{staticClass:\"mr-4 text-xl text-primary-600\",attrs:{\"html-tag\":\"button\",\"icon\":\"remove_circle\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deskZoomout($event)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.deskRange),expression:\"deskRange\",modifiers:{\"number\":true}}],staticClass:\"w-full cursor-pointer gx-range\",attrs:{\"id\":\"volume\",\"type\":\"range\",\"name\":\"volume\",\"min\":\"0\",\"step\":\"1\",\"max\":\"100\"},domProps:{\"value\":(_vm.deskRange)},on:{\"input\":_vm.scaleImage,\"__r\":function($event){_vm.deskRange=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('GxIcon',{staticClass:\"ml-4 text-xl text-primary-600\",attrs:{\"html-tag\":\"button\",\"icon\":\"add_circle\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deskZoomin($event)}}})],1),_c('div',{staticClass:\"mt-8 text-center flex flex-col items-center\"},[_c('GxButton',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Guardar\")]),_c('GxTextLink',{staticClass:\"text-secondary-300 text-center mt-2\",attrs:{\"to\":{ name: 'uploadcompanylogo', query: { edit: _vm.editMode } }}},[_vm._v(\" Elegir otra imagen \")])],1),(_vm.customError)?_c('GxCardModal',{attrs:{\"headline\":_vm.customError,\"card-img\":_vm.$utils.alertImages.Oops,\"alt\":_vm.customError,\"text-body\":\"Vuelve a intentarlo\"},on:{\"click\":function($event){_vm.customError = !_vm.customError}}}):_vm._e(),(_vm.showUpdateSuccessfulModal)?_c('GxCardModal',{attrs:{\"headline\":\"Logo actualizado\",\"card-img\":_vm.$utils.alertImages.Done,\"alt\":\"Logo actualizado\"},on:{\"close\":_vm.onSuccesModalClose}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"w-full  flex justify-start items-center mt-4\"},[_c('i',{staticClass:\"material-icons-round iconSize text-primary mr-4\"},[_vm._v(\"receipt\")]),_c('h4',{staticClass:\"gx-h4 font-bold\"},[_vm._v(\"Ajusta tu logotipo\")])])}]\n\nexport { render, staticRenderFns }","<script>\nimport VueCropper from 'vue-cropperjs'\nimport GxCardModal from '@src/components/_Core/Cards/GxCardModal'\nimport { UPLOAD_COMPANY_LOGO } from '@src/apollo//mutations'\nimport { COMPANY_INFO, LOCAL_COMPANY } from '@src/apollo/queries'\nimport GxIcon from '@components/_Core/Icons/GxIcon'\n\nexport default {\n  name: 'ResizeLogo',\n  components: {\n    GxCardModal,\n    VueCropper,\n    GxIcon,\n  },\n  props: {\n    imageSrc: {\n      type: String,\n      required: true,\n    },\n  },\n  apollo: {\n    company: LOCAL_COMPANY,\n    myAccount: {\n      query: COMPANY_INFO,\n      variables() {\n        return {\n          companyNumber: this.company.number,\n        }\n      },\n      skip() {\n        return !this.company\n      },\n    },\n  },\n  data() {\n    return {\n      file: null,\n      succesTimeout: null,\n      errorTimeout: null,\n      croppedImage: null,\n      customError: null,\n      loading: false,\n      deskRange: 50,\n      company: null,\n      showUpdateSuccessfulModal: false,\n      updateSuccessImg: require('@assets/images/Signup/InitialTodos/mo_and_de_user_success.svg'),\n    }\n  },\n  computed: {\n    editMode() {\n      return this.$route && this.$route.query.edit\n    },\n    companyLogo() {\n      if (this.myAccount && this.myAccount.companies[0].company.companyLogo) {\n        return this.myAccount.companies[0].company.companyLogo\n      } else {\n        return null\n      }\n    },\n  },\n  created() {\n    if (!this.imageSrc) {\n      this.$router.push({ name: 'uploadcompanylogo' })\n    }\n  },\n  methods: {\n    toDrawerRight() {\n      this.$router.push({ name: 'dashboard', query: { drawerRight: true } })\n    },\n    async croppedImageToBase64() {\n      return new Promise((resolve, reject) => {\n        this.$refs.cropper.getCroppedCanvas().toBlob((blob) => {\n          var reader = new FileReader()\n          reader.readAsDataURL(blob)\n          reader.onloadend = function() {\n            var base64data = reader.result\n\n            resolve(base64data)\n          }\n        })\n      })\n    },\n    async onSubmit() {\n      this.loading = true\n      try {\n        this.croppedImage = await this.croppedImageToBase64()\n        const splitImg = this.croppedImage.split(',')[1]\n        await this.$apollo.mutate({\n          mutation: UPLOAD_COMPANY_LOGO,\n          variables: {\n            companyNumber: this.myAccount.companies[0].company.companyNumber,\n            data: {\n              companyDocumentsLogo: splitImg,\n              companyLogo: splitImg,\n            },\n          },\n          update: (store, { data }) => {\n            const query = {\n              query: COMPANY_INFO,\n              variables: {\n                companyNumber: this.company.number,\n              },\n            }\n            const oldData = store.readQuery(query)\n            const newLogo =\n              data.companyUpdateInfo.updatedCompany.companyDocumentsLogo +\n              `?${new Date().getTime()}`\n            oldData.myAccount.companies[0].company.companyLogo = newLogo\n            store.writeQuery({\n              ...query,\n              data: oldData,\n            })\n\n            /* eslint-disable */\n            console.log('Updated data with logo: ', newLogo)\n            /* eslint-enable */\n\n            // Force persist-cache update for next reloads\n            this.$apollo.queries.myAccount.refetch()\n          },\n        })\n        this.loading = false\n        this.showUpdateSuccessfulModal = true\n        this.succesTimeout = setTimeout(() => {\n          this.onSuccesModalClose()\n        }, 3000)\n      } catch (error) {\n        this.loading = false\n        this.customError = this.$utils.parseServerError(error)\n        this.errorTimeout = setTimeout(() => {\n          this.onErrorModalClose()\n        }, 3000)\n      }\n    },\n    onErrorModalClose() {\n      if (this.errorTimeout) {\n        clearTimeout(this.errorTimeout)\n      }\n      this.customError = ''\n    },\n    onSuccesModalClose() {\n      if (this.succesTimeout) {\n        clearTimeout(this.succesTimeout)\n      }\n      this.showUpdateSuccessfulModal = false\n      if (this.$route.query.edit) {\n        this.toDrawerRight()\n      } else {\n        this.$router.push({ name: 'invoicepreview' })\n      }\n    },\n    scaleImage() {\n      const value = this.deskRange\n      const factor = value / 50\n      // VueCropper function to scale an image\n      const scale = this.$refs.cropper.scale\n      scale(factor)\n    },\n\n    deskZoomout() {\n      if (this.deskRange > 0) {\n        this.deskRange = this.deskRange - 10\n        this.scaleImage()\n      }\n    },\n    deskZoomin() {\n      if (this.deskRange < 100) {\n        this.deskRange = this.deskRange + 10\n        this.scaleImage()\n      }\n    },\n  },\n}\n</script>\n<template>\n  <div v-if=\"$mq === 'mo'\" class=\"flex-grow flex flex-col items-center p-4\">\n    <p class=\"mb-8 text-center\"\n      >Este logotipo aparecer√° en tu perfil y los documentos que emitas en\n      Chain.</p\n    >\n    <div>\n      <!-- <div id=\"croppie-container\" class=\"w-64 h-64\"></div> -->\n      <VueCropper\n        v-if=\"imageSrc\"\n        ref=\"cropper\"\n        :src=\"imageSrc\"\n        alt=\"Source Image\"\n        :auto-crop-area=\"0.5\"\n        :min-container-width=\"350\"\n        :min-container-height=\"350\"\n        :background=\"true\"\n        :rotatable=\"true\"\n        :img-style=\"{ width: '350px', height: '350px' }\"\n        :aspect-ratio=\"1\"\n        :zoomable=\"true\"\n        :crop-box-resizable=\"false\"\n        :check-orientation=\"true\"\n        :min-crop-box-width=\"250\"\n        :min-crop-box-height=\"250\"\n      >\n      </VueCropper>\n    </div>\n    <!-- Rotate controls -->\n    <div class=\"mt-4\" style=\"font-size: 2rem;\">\n      <GxIcon icon=\"rotate_90_degrees_ccw\" @click=\"$refs.cropper.rotate(-90)\" />\n    </div>\n    <div class=\"flex-grow flex flex-col justify-end mt-8\">\n      <GxButton :loading=\"loading\" @click=\"onSubmit\">Guardar</GxButton>\n    </div>\n    <GxCardModal\n      v-if=\"customError\"\n      :headline=\"customError\"\n      :card-img=\"$utils.alertImages.Oops\"\n      :alt=\"customError\"\n      text-body=\"Vuelve a intentarlo\"\n      @click=\"customError = !customError\"\n    />\n    <GxCardModal\n      v-if=\"showUpdateSuccessfulModal\"\n      headline=\"Logo actualizado\"\n      :card-img=\"$utils.alertImages.Done\"\n      alt=\"Logo actualizado\"\n      @close=\"onSuccesModalClose\"\n    />\n  </div>\n  <div v-else class=\"flex-grow flex flex-col items-center\">\n    <header class=\"w-full  flex justify-start items-center mt-4\">\n      <i class=\"material-icons-round iconSize text-primary mr-4\">receipt</i>\n      <h4 class=\"gx-h4 font-bold\">Ajusta tu logotipo</h4>\n    </header>\n    <p class=\"text-left mt-4 self-start\"\n      >Este logotipo aparecer√° en tu perfil y los documentos que emitas en\n      Chain.\n    </p>\n    <main class=\"flex-grow flex-col flex justify-center items-center\">\n      <!-- <div id=\"croppie-container\" class=\"w-64 h-64\"></div> -->\n      <VueCropper\n        v-if=\"imageSrc\"\n        ref=\"cropper\"\n        :src=\"imageSrc\"\n        alt=\"Source Image\"\n        :auto-crop-area=\"0.5\"\n        :min-container-width=\"350\"\n        :min-container-height=\"350\"\n        :background=\"true\"\n        :rotatable=\"true\"\n        :img-style=\"{ width: '350px', height: '350px' }\"\n        :aspect-ratio=\"1\"\n        :zoomable=\"false\"\n        :crop-box-resizable=\"false\"\n        :min-crop-box-width=\"250\"\n        :min-crop-box-height=\"250\"\n      >\n      </VueCropper>\n      <!-- Rotate controls -->\n      <div class=\"mt-4\" style=\"font-size: 2rem;\">\n        <GxIcon\n          icon=\"rotate_90_degrees_ccw\"\n          @click=\"$refs.cropper.rotate(-90)\"\n        />\n      </div>\n      <div class=\"gx-controls mt-6 flex justify-start items-center\">\n        <GxIcon\n          html-tag=\"button\"\n          icon=\"remove_circle\"\n          class=\"mr-4 text-xl text-primary-600\"\n          @click.prevent=\"deskZoomout\"\n        />\n        <input\n          id=\"volume\"\n          v-model.number=\"deskRange\"\n          class=\"w-full cursor-pointer gx-range\"\n          type=\"range\"\n          name=\"volume\"\n          min=\"0\"\n          step=\"1\"\n          max=\"100\"\n          @input=\"scaleImage\"\n        />\n        <GxIcon\n          html-tag=\"button\"\n          icon=\"add_circle\"\n          class=\"ml-4 text-xl text-primary-600\"\n          @click.prevent=\"deskZoomin\"\n        />\n      </div>\n      <div class=\"mt-8 text-center flex flex-col items-center\">\n        <GxButton :loading=\"loading\" @click=\"onSubmit\">Guardar</GxButton>\n        <GxTextLink\n          class=\"text-secondary-300 text-center mt-2\"\n          :to=\"{ name: 'uploadcompanylogo', query: { edit: editMode } }\"\n        >\n          Elegir otra imagen\n        </GxTextLink>\n      </div>\n      <GxCardModal\n        v-if=\"customError\"\n        :headline=\"customError\"\n        :card-img=\"$utils.alertImages.Oops\"\n        :alt=\"customError\"\n        text-body=\"Vuelve a intentarlo\"\n        @click=\"customError = !customError\"\n      />\n      <GxCardModal\n        v-if=\"showUpdateSuccessfulModal\"\n        headline=\"Logo actualizado\"\n        :card-img=\"$utils.alertImages.Done\"\n        alt=\"Logo actualizado\"\n        @close=\"onSuccesModalClose\"\n      />\n    </main>\n  </div>\n</template>\n<style lang=\"scss\">\n@import '~cropperjs/dist/cropper.css';\n\n/*!\n * Cropper.js v1.5.1\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2019-03-10T09:55:50.492Z\n */\n\n.cropper-container {\n  position: relative;\n  font-size: 0;\n  line-height: 0;\n  -ms-touch-action: none;\n  touch-action: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  direction: ltr;\n}\n\n.cropper-container img {\n  display: block;\n  width: 100%;\n  min-width: 0 !important;\n  max-width: none !important;\n  height: 100%;\n  min-height: 0 !important;\n  max-height: none !important;\n  image-orientation: 0deg;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.cropper-view-box {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n}\n\n.cropper-dashed {\n  position: absolute;\n  display: block;\n  border: 0 dashed #eee;\n  opacity: 0.5;\n}\n\n.cropper-dashed.dashed-h {\n  top: calc(100% / 3);\n  left: 0;\n  width: 100%;\n  height: calc(100% / 3);\n  border-top-width: 1px;\n  border-bottom-width: 1px;\n}\n\n.cropper-dashed.dashed-v {\n  top: 0;\n  left: calc(100% / 3);\n  width: calc(100% / 3);\n  height: 100%;\n  border-right-width: 1px;\n  border-left-width: 1px;\n}\n\n.cropper-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0.75;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  position: absolute;\n  display: block;\n  content: ' ';\n  background-color: #eee;\n}\n\n.cropper-center::before {\n  top: 0;\n  left: -3px;\n  width: 7px;\n  height: 1px;\n}\n\n.cropper-center::after {\n  top: -3px;\n  left: 0;\n  width: 1px;\n  height: 7px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n\n.cropper-face {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-n {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-line.line-w {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: ns-resize;\n}\n\n.cropper-point {\n  width: 5px;\n  height: 5px;\n  background-color: #39f;\n  opacity: 0.75;\n}\n\n.cropper-point.point-e {\n  top: 50%;\n  right: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-n {\n  top: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: ns-resize;\n}\n\n.cropper-point.point-w {\n  top: 50%;\n  left: -3px;\n  margin-top: -3px;\n  cursor: ew-resize;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n\n.cropper-point.point-ne {\n  top: -3px;\n  right: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-nw {\n  top: -3px;\n  left: -3px;\n  cursor: nwse-resize;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  left: -3px;\n  cursor: nesw-resize;\n}\n\n.cropper-point.point-se {\n  right: -3px;\n  bottom: -3px;\n  width: 20px;\n  height: 20px;\n  cursor: nwse-resize;\n  opacity: 1;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    width: 15px;\n    height: 15px;\n  }\n}\n\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    width: 10px;\n    height: 10px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    width: 5px;\n    height: 5px;\n    opacity: 0.75;\n  }\n}\n\n.cropper-point.point-se::before {\n  position: absolute;\n  right: -50%;\n  bottom: -50%;\n  display: block;\n  width: 200%;\n  height: 200%;\n  content: ' ';\n  background-color: #39f;\n  opacity: 0;\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  position: absolute;\n  display: block;\n  width: 0;\n  height: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n\n// gx-range\n.gx-controls {\n  width: calc(40px + 350px);\n}\ninput[type='range'] {\n  -webkit-appearance: none; /* Hides the slider so that custom slider can be made */\n  width: 100%; /* Specific width is required for Firefox. */\n  background: transparent; /* Otherwise white in Chrome */\n}\n\ninput[type='range']::-webkit-slider-thumb {\n  -webkit-appearance: none;\n}\n\ninput[type='range']::-ms-track {\n  width: 100%;\n  color: transparent;\n  cursor: pointer;\n\n  /* Hides the slider so custom styles can be added */\n  background: transparent;\n  border-color: transparent;\n}\ninput[type='range']:focus {\n  outline: none; /* Removes the blue border. You should probably do some kind of focus styling for accessibility reasons though. */\n}\n\ninput[type='range'].gx-range {\n  height: 2px;\n  color: #a176ff;\n  background: #a176ff;\n  border-block-color: #a176ff;\n}\ninput[type='range'].gx-range::-webkit-slider-thumb {\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n  background: #4b23ef;\n  border-radius: 50%;\n  // margin-top: -1px; /* You need to specify a margin in Chrome, but in Firefox and IE it is automatic */\n  box-shadow: 0 0 0; /* Add cool effects to your sliders! */\n  -webkit-appearance: none;\n}\ninput[type='range'].gx-range::-moz-range-thumb {\n  width: 12px;\n  height: 12px;\n  cursor: pointer;\n  background: #4b23ef;\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 0;\n  -webkit-appearance: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResizeLogo.vue?vue&type=template&id=fab118be&\"\nimport script from \"./ResizeLogo.vue?vue&type=script&lang=js&\"\nexport * from \"./ResizeLogo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResizeLogo.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport LayoutWebMobile from '@layouts/LayoutWebMobile'\nimport ResizeLogo from '@components/Settings/CompanySettings/ResizeLogo'\nexport default {\n  page: {\n    title: 'Ajustar logo',\n    meta: [{ name: 'description', content: 'Ajustar logo' }],\n  },\n  components: { LayoutWebMobile, ResizeLogo },\n  props: {\n    imageSrc: {\n      type: String,\n      required: true,\n    },\n  },\n  methods: {\n    goBack() {\n      this.$router.gxAnim = 'slide-right'\n      this.$router.back()\n    },\n  },\n}\n</script>\n\n<template>\n  <LayoutWebMobile\n    title=\"Ajusta tu logotipo\"\n    icon=\"keyboard_backspace\"\n    :icon-click-handler=\"goBack\"\n  >\n    <ResizeLogo :image-src=\"imageSrc\" />\n  </LayoutWebMobile>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogoView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogoView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResizeLogoView.vue?vue&type=template&id=31c331f2&\"\nimport script from \"./ResizeLogoView.vue?vue&type=script&lang=js&\"\nexport * from \"./ResizeLogoView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/mo_and_de_user_success.28d06cde.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogo.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizeLogo.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}