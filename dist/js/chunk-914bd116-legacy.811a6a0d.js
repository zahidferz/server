(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-914bd116"],{1367:function(t,e,a){},"2ca5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LayoutWebMobile",{attrs:{title:"Conexión al SAT",icon:"keyboard_backspace","icon-class-without-scroll":"text-black","icon-click-handler":function(){return t.showDoItLater=!0}}},["de"===t.$mq?[a("h1",{staticClass:" gx-h4 flex items-center "},[a("GxIcon",{staticClass:"cursor-pointer",attrs:{icon:"keyboard_backspace"},on:{click:function(){return t.showDoItLater=!0}}}),a("span",{staticClass:"ml-4 font-bold"},[t._v("Conexión al SAT")])],1)]:t._e(),a("SatConnection"),t.showDoItLater?a("GxCardModal",{attrs:{headline:"¿Seguro que quieres salir?","text-body":"Podrás actualizar tu conexión al SAT después, pero te recomendamos hacerlo ahora.","card-img":t.$utils.alertImages.Khaaa,alt:"alertAlt"},scopedSlots:t._u([{key:"actions",fn:function(){return[a("div",{staticClass:"flex justify-center"},[a("GxButton",{staticClass:"text-alert de:text-primary mr-4",attrs:{ghost:"de"===t.$mq,plain:"mo"===t.$mq},on:{click:function(){return t.$router.push({name:"dashboard",query:{drawerRight:!0}})}}},[t._v("salir")]),a("GxButton",{attrs:{plain:"mo"===t.$mq},on:{click:function(e){t.showDoItLater=!1}}},[t._v("Continuar")])],1)]},proxy:!0}],null,!1,318471292)}):t._e()],2)},o=[],n=a("42b5"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$apollo.queries.companyInfo.loading?a("section",{staticClass:"flex flex-col flex-grow items-center justify-center"},[a("GxLoader")],1):a("section",{staticClass:"flex flex-col flex-grow de:flex-grow-0 pt-4 px-4 de:px-8 de:mx-auto de:rounded-lg de:mt-32 de:pt-8 de:pb-6  de:shadow-3 de:w-108"},[t.updateRFC?a("p",{},[t._v("Ingresa tu información para descargar tus XMLs directo del SAT.")]):t.companyInfo?a("p",{},[t._v("Puedes modificar tu CIEC relacionado al RFC de "+t._s(t.companyName)+".")]):t._e(),a("GxForm",{staticClass:"w-full mt-8",attrs:{autocomplete:"off"},on:{submit:t.onSubmit}},[t.updateRFC?a("GxTextFieldTaxId",{ref:"taxId",staticClass:"mb-2",attrs:{disabled:"","watch-value":"",label:"RFC*",icon:"business"},on:{valid:function(e){t.taxIdValidation=e}},model:{value:t.taxId,callback:function(e){t.taxId=e},expression:"taxId"}}):t.companyInfo?a("GxDisabledInput",{attrs:{icon:"business",value:t.companyInfo.taxId,label:"RFC*",name:"RFC"}}):t._e(),a("GxTextFieldCiec",{attrs:{label:"Contraseña del SAT (CIEC)",icon:"lock",autocomplete:"new-password",name:"ciec"},model:{value:t.ciec,callback:function(e){t.ciec=e},expression:"ciec"}}),a("div",{staticClass:"flex w-full flex-col items-center mt-8"},[t.errorMsg?a("p",{staticClass:"text-alert text-center  mb-2"},[t._v(t._s(t.errorMsg))]):t._e(),a("GxButton",{attrs:{loading:t.loading,type:"submit"}},[t._v(" ACTUALIZAR ")])],1)],1),t.showSuccessAlert?a("GxCardModal",{attrs:{headline:"CIEC actualizada","card-img":t.$utils.alertImages.Done,alt:"CIEC actualizada"},on:{close:t.onSuccessModalClose}}):t._e(),t.showErrorAlert?a("GxCardModal",{attrs:{headline:t.serverError,"card-img":t.errorAlertImage},on:{close:t.onErrorModalClose}}):t._e()],1)},i=[],c=(a("96cf"),a("1da1")),l=a("51b4"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex gxInput flex-col cursor-not-allowed mx-4 text-gray-400"},[a("span",{staticClass:"mb-2 gx-section-title"},[t._v(t._s(t.label))]),a("span",{staticClass:"flex  justify-start items-center border-b border-gray-400 pb-3 w-full"},[a("GxIcon",{attrs:{icon:t.icon}}),a("span",{staticClass:"ml-4 text-gray-400"},[t._v(t._s(t.value)+" ")])],1)])},d=[],h=a("524e"),m={name:"GxDisabledInput",components:{GxIcon:h["a"]},props:{label:{type:String,default:""},icon:{type:String,default:""},value:{type:String,required:!0}}},f=m,p=(a("98bc"),a("2877")),x=Object(p["a"])(f,u,d,!1,null,"6c9192ec",null),b=x.exports,g=a("4c6a"),C=a("0ae0"),y=a("0d9e"),w={name:"SatConnection",components:{GxLoader:l["a"],GxDisabledInput:b,GxCardModal:y["a"]},apollo:{company:g["LOCAL_COMPANY"],companyInfo:{query:g["COMPANY_INFO"],variables:function(){return{companyNumber:this.company.number}},skip:function(){return!this.company},update:function(t){return t.myAccount.companies[0].company}}},data:function(){return{company:null,errorMsg:null,serverError:null,companyInfo:null,showSuccessAlert:!1,showErrorAlert:!1,timeout:null,taxIdValidation:!0,loading:!1,ciec:"",taxId:"",successAlertImg:a("4e3b"),errorAlertImage:this.$utils.alertImages.Oops}},computed:{formEmty:function(){return this.updateRFC?!this.ciec||!this.taxId:!this.ciec},isTaxIdInValid:function(){return!!this.updateRFC&&!!this.taxIdValidation},updateRFC:function(){return this.companyInfo?!this.companyInfo.companyDataLocalized.csd.length&&!this.companyInfo.companyDataLocalized.ciecConfigurada:null},companyName:function(){return this.companyInfo?this.companyInfo.commercialName?this.companyInfo.commercialName:this.companyInfo.legalName?this.companyInfo.legalName:"":""}},watch:{formEmty:function(t){t||(this.errorMsg=null,this.serverError=null)},companyInfo:function(t){this.taxId=t.taxId}},methods:{onSuccessModalClose:function(){this.timeout&&clearTimeout(this.timeout),this.$router.push({name:"dashboard",query:{drawerRight:!0}})},onErrorModalClose:function(){this.timeout&&clearTimeout(this.timeout),this.showErrorAlert=!1},dispatchUpadateCIEC:function(){return this.$apollo.mutate({mutation:C["UPDATE_COMPANY_CIEC"],variables:{companyNumber:this.company.number,data:{taxId:this.updateRFC?this.taxId:this.companyInfo.taxId,commercialName:this.companyInfo.commercialName,ciec:this.ciec}}})},onSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.formEmty){e.next=5;break}return t.errorMsg="Faltan datos obligatorios",t.serverError=null,e.abrupt("return");case 5:return t.loading=!0,e.next=8,t.dispatchUpadateCIEC();case 8:t.showSuccessAlert=!0,t.timeout=setTimeout((function(){t.onSuccessModalClose()}),3e3),e.next=18;break;case 12:e.prev=12,e.t0=e["catch"](0),t.serverError=t.$utils.parseServerError(e.t0),"No tienes permisos para actualizar la información fiscal de la compañía"===t.serverError?t.errorAlertImage=t.$utils.alertImages.Dissapointed:t.errorAlertImage=t.$utils.alertImages.Oops,t.showErrorAlert=!0,t.timeout=setTimeout((function(){t.onErrorModalClose()}),3e3);case 18:return e.prev=18,t.loading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,12,18,21]])})))()}}},S=w,I=Object(p["a"])(S,s,i,!1,null,null,null),v=I.exports,_={page:{title:"Conexión al SAT",meta:[{name:"description",content:"Conexión al SAT"}]},name:"SatConnectionView",components:{LayoutWebMobile:n["a"],SatConnection:v,GxCardModal:y["a"],GxIcon:h["a"]},data:function(){return{alertImg:this.$utils.alertImages.retencion_de_usuario,showDoItLater:!1}}},k=_,B=Object(p["a"])(k,r,o,!1,null,null,null);e["default"]=B.exports},"42b5":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"mo"===t.$mq?a("MqLayout",{key:"layout",staticClass:"flex flex-col bg-white",attrs:{id:"layout",mq:"mo"}},[a("header",{key:"topbar-container",staticClass:"sticky top-0 z-20 bg-white top-bar",class:{"shadow-5":t.tabs,"shadow-3":t.hasScrolled}},[a("transition",{key:"default-transition",attrs:{name:"input-fade",mode:"out-in"},on:{"after-enter":t.focusMobileSearch}},[t.mobileSearch?a("nav",{key:"search-container",staticClass:"flex items-center p-4 h-14 justify-left gx-h5",class:[t.onSearchClasses]},[a("button",{staticClass:"flex items-center mr-4 leading-none focus:outline-none"},[a("GxIcon",{attrs:{icon:"close"},on:{click:function(e){return e.stopPropagation(),t.cancelMobileSearch(e)}}})],1),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],ref:"mobileSearch",staticClass:"w-full leading-none bg-transparent focus:outline-none gxMobileSearchInput",class:t.placeholderColor,attrs:{placeholder:t.placeholder,autofocus:"",type:"search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):a("nav",{key:"default-topbar",staticClass:"flex justify-start w-full p-4 h-14 items-bottom"},[!t.mobileSearch&&t.breadcrumb?a("GxBreadcrumb",{key:"GxBreadcrumb",attrs:{classes:t.hasScrolled?t.breadcrumbClassesWithScroll:t.breadcrumbClassesWithoutScroll,"has-scrolled":t.hasScrolled}},[a("h1",{staticClass:"font-bold gx-h5"},[t._v(t._s(t.title))])]):t._e(),t.mobileSearch||t.breadcrumb?t._e():a("h1",{key:"title-container",staticClass:"flex items-center font-bold justy-left items-bottom gx-h5"},[t.iconClickHandler?a("GxIcon",{staticClass:"mr-4",class:[t.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:t.icon,"html-tag":"button"},on:{click:function(e){return e.stopPropagation(),t.iconClickHandler(e)}}}):t.hasDrawer&&!t.iconClickHandler?a("GxIcon",{staticClass:"mr-4",class:[t.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:t.icon,"html-tag":"button"},on:{click:function(e){e.stopPropagation(),t.drawerLeft=!t.drawerLeft}}}):a("GxIcon",{staticClass:"mr-4",class:[t.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:t.icon}}),t._t("title",[a("span",[t._v(" "+t._s(t.title)+" ")])])],2),a("div",{key:"right-icons",staticClass:"flex items-center ml-auto gx-h5"},[t._t("topbar-right"),t.hasSearch?a("GxIcon",{key:"search-icon",staticClass:"leading-none icon-button focus:outline-none",attrs:{"html-tag":"button",icon:"search"},on:{click:function(e){t.mobileSearch=!0}}}):t._e(),t.hasDrawerRight?a("GxIcon",{key:"right-drawer",staticClass:"ml-4 leading-none icon-button",attrs:{"html-tag":"button",icon:"more_vert"},on:{click:function(e){t.drawerRight=!t.drawerRight}}}):t._e()],2)],1)]),t._t("header2"),t.tabs?a("div",{key:"tabs-container"},[t._t("tabs")],2):t._e()],2),t.hasDrawer?a("TopBarLeftDrawer",{key:"TopBarLeftDrawer",attrs:{open:t.drawerLeft,"a-drawer-open":t.drawerOPen},on:{open:function(e){t.drawerOPen=!0},close:function(e){return t.onCloseDrawer("drawerLeft")}}}):t._e(),t.hasDrawerRight?a("TopBarRightDrawer",{key:"TopBarRightDrawer",attrs:{open:t.drawerRight,"a-drawer-open":t.drawerOPen},on:{open:function(e){t.drawerOPen=!0},close:function(e){return t.onCloseDrawer("drawerRight")}}}):t._e(),a("div",{staticClass:"flex flex-col flex-grow",class:{"gx-padding-menu pb-14":t.withPaddingBottom},attrs:{id:"mobileMainContent"}},[t._t("default",null,null,{hasScrolled:t.hasScrolled,search:t.search})],2)],1):a("div",{staticClass:"flex flex-col flex-grow",class:{"pb-4":t.withPaddingBottom}},[t._t("default")],2)},o=[],n=(a("caad"),a("ac1f"),a("2532"),a("5319"),a("841c"),a("524e")),s=a("f21d"),i=a("6f0d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"flex-grow flex justify-start"},[a("RouterLink",{staticClass:"flex justify-start items-center gx-h5",attrs:{tag:"li",to:{name:"dashboard"}}},[a("GxIcon",{class:[t.classes.icon],attrs:{icon:"dashboard"}}),a("GxIcon",{staticClass:"gxNext mx-1",class:[t.classes.next],attrs:{icon:"navigate_next"}})],1),t._l(t.matchedRoutes,(function(e,r){return a("RouterLink",{key:e.name,staticClass:"flex justify-start items-center  gx-h5",attrs:{tag:"li",to:{name:e.name}}},[e.meta.icon?[a("GxIcon",{class:[e.name===t.$route.name||e.redirect.name===t.$route.name?t.classes.active:t.classes.icon],attrs:{icon:e.meta.icon}}),r!==t.matchedRoutes.length-1&&t.matchedRoutes[r+1].meta.icon?a("GxIcon",{staticClass:"mx-1  gxNext",class:[t.classes.next],attrs:{icon:"navigate_next"}}):t._e()]:t._e()],2)})),a("div",{staticClass:"ml-4 title"},[t._t("default")],2)],2)},l=[],u=(a("fb6a"),{name:"GxBreadcrumb",components:{GxIcon:n["a"]},props:{hasScrolled:{type:Boolean,default:!1},classes:{type:Object,default:null}},computed:{matchedRoutes:function(){return this.$route.matched.slice(1)}}}),d=u,h=(a("8e44"),a("2877")),m=Object(h["a"])(d,c,l,!1,null,"3157a3f7",null),f=m.exports,p={name:"LayoutWebMobile",components:{TopBarLeftDrawer:s["a"],TopBarRightDrawer:i["a"],GxBreadcrumb:f,GxIcon:n["a"]},props:{dark:{type:Boolean,default:!1},breadcrumb:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},onSearchClasses:{type:String,default:"text-black"},placeholder:{type:String,default:"Buscar"},hasDrawer:{type:Boolean,default:!1},hasDrawerRight:{type:Boolean,default:!1},hasStickyElement:{type:Boolean,default:!1},title:{type:String,default:null},icon:{type:String,default:""},iconClassWithoutScroll:{type:String,default:"text-black"},iconClassWithScroll:{type:String,default:"text-black"},topBarClassWithScroll:{type:String,default:""},topBarClassWithoutScroll:{type:String,default:"text-black bg-white"},iconClickHandler:{type:Function,default:null},iconRight:{type:String,default:null},iconRightClickHandler:{type:Function,default:null},withPaddingBottom:{type:Boolean,default:!0},noHorizontalPadding:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},breadcrumbClassesWithScroll:{type:Object,default:function(){return{icon:"text-gray-700",next:"text-black",active:"text-primary"}}},breadcrumbClassesWithoutScroll:{type:Object,default:function(){return{icon:"text-gray-700",next:"text-black",active:"text-primary"}}},searchTerm:{type:String,default:""}},data:function(){return{hasScrolled:!1,activeDeskTopBarMenu:null,drawerLeft:!1,mobileSearch:!1,drawerRight:!1,customTopBar:!1,drawerOPen:!1,search:""}},computed:{hasTopBar:function(){return this.title||this.icon||this.iconRight||this.hasDrawer},iconClasses:function(){return this.hasScrolled?this.iconClassWithScroll:this.iconClassWithoutScroll},topBarClasses:function(){return this.hasScrolled?(this.topBarClassWithScroll.includes("bg-"),this.topBarClassWithScroll):this.topBarClassWithoutScroll?this.topBarClassWithoutScroll:""},placeholderColor:function(){return"bg-primary-500 text-white"===this.onSearchClasses?"placeholder-bg-dark":"placeholder-bg-white"}},watch:{search:function(t){"mo"===this.$mq&&this.$emit("search",t)}},reactiveProvide:{name:"topBarSearch",include:["search"]},mounted:function(){var t=this;this.$route.query.searchTerm&&this.hasSearch&&this.setMobileSearch(this.$route.query.searchTerm),this.$route.query.drawerRight&&this.$nextTick((function(){t.drawerRight=!0;var e=Object.assign({},t.$route.query);delete e.drawerRight,t.$router.replace({query:e})}));var e=0,a=!1;"de"===this.$mq?document.getElementById("gxDeMain")&&document.getElementById("gxDeMain").addEventListener("scroll",(function(r){e=r.target.scrollTop,a||(window.requestAnimationFrame((function(){t.hasScrolled=e>0,a=!1})),a=!0)})):window.addEventListener("scroll",(function(r){e=window.scrollY,a||(window.requestAnimationFrame((function(){t.hasScrolled=e>0,a=!1})),a=!0)}))},created:function(){this.searchTerm&&(this.search=this.searchTerm,this.mobileSearch=!0)},methods:{onCloseDrawer:function(t){this[t]=!1,this.drawerOPen=!1},cancelMobileSearch:function(){this.search="",this.mobileSearch=!1},focusMobileSearch:function(){this.$refs.mobileSearch&&this.$refs.mobileSearch.focus()},onActiveMenu:function(t){this.activeDeskTopBarMenu=t},showCustomTopBar:function(){this.customTopBar=!0},hideCustomTopBar:function(){this.customTopBar=!1},setMobileSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search=t,this.mobileSearch=!0}}},x=p,b=(a("f320"),Object(h["a"])(x,r,o,!1,null,"f3d6798e",null));e["a"]=b.exports},"4e3b":function(t,e,a){t.exports=a.p+"img/mo_001_6_exitousuario.28d06cde.svg"},"50bf":function(t,e,a){},"597e":function(t,e,a){},"8e44":function(t,e,a){"use strict";var r=a("50bf"),o=a.n(r);o.a},"98bc":function(t,e,a){"use strict";var r=a("1367"),o=a.n(r);o.a},f320:function(t,e,a){"use strict";var r=a("597e"),o=a.n(r);o.a}}]);
//# sourceMappingURL=chunk-914bd116-legacy.811a6a0d.js.map