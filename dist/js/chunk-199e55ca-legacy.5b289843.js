(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-199e55ca"],{2901:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("Layout",{attrs:{dark:"mo"===a.$mq}},["de"===a.$mq?s("a",{staticClass:"fixed left-0 top-0 ml-6 mt-6",attrs:{href:"#"}},[s("figure",[s("img",{staticClass:"w-22",attrs:{src:e("b595"),alt:"Chain"}})])]):a._e(),s("LoginDefineNewPassword")],1)},r=[],o=e("8fe3"),n=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"flex-grow flex flex-col text-white de:text-black p-4 de:p-0"},[s("MqLayout",{staticClass:"flex-grow flex flex-col",attrs:{mq:"mo"}},[s("h1",{staticClass:"gx-h4"},[a._v("Define tu nueva contraseña")]),s("p",{staticClass:"gx-caption"},[a._v("Deberá de ser al menos 8 caracteres con:")]),s("ul",{staticClass:"gx-caption"},[s("li",{staticClass:"flex items-center"},[s("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Una mayúscula")]),s("li",{staticClass:"flex items-center"},[s("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Una minúscula")]),s("li",{staticClass:"flex items-center"},[s("div",{staticClass:"bg-white h-2 w-2 rounded-full mr-1"}),a._v(" Un número (0 al 9)")])]),s("GxForm",{staticClass:" flex flex-col justify-around mt-8",on:{submit:a.onSubmit}},[s("div",{staticClass:"flex-grow"},[s("GxTextFieldDarkPassword",{staticClass:"mb-4",attrs:{placeholder:"Nueva contraseña",label:"Nueva contraseña",error:a.passwordCustomError,required:"",disabled:a.loading},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),s("GxTextFieldDarkPassword",{attrs:{placeholder:"Confirmar contraseña",label:"Confirmar contraseña",required:"",disabled:a.loading,error:a.passwordConfirmationCustomError},model:{value:a.passwordConfirmation,callback:function(t){a.passwordConfirmation=t},expression:"passwordConfirmation"}})],1),s("p",[a._v(a._s(a.passwordConfirmationCustomError))]),s("GxButton",{staticClass:"mx-auto mt-8",attrs:{dark:"",loading:a.loading,type:"submit","loading-success":a.loadingSuccess}},[a._v("cambiar contraseña")])],1),s("GxTextLink",{staticClass:"self-center text-white de:gx-caption",attrs:{to:{name:"login"}}},[a._v("Iniciar sesión")])],1),s("MqLayout",{staticClass:"flex-grow flex flex-col bg-white justify-around bg-no-repeat formPosition",style:"background-image: url("+a.bgImg+");",attrs:{mq:"de"}},[s("div",{staticClass:"w-108 ml-16 mr-8"},[s("GxCardCore",{staticClass:" shadow-3 flex flex-col rounded-lg shadow-2 pb-8 pt-8  bg-white"},[s("h4",{staticClass:"de:gx-h4 de:font-bold text-center mb-4"},[a._v("Define tu nueva contraseña")]),s("ul",{staticClass:"px-8"},[s("p",[a._v("Deberá de ser al menos 8 caracteres con:")]),s("li",{staticClass:"flex items-center"},[s("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Una mayúscula")]),s("li",{staticClass:"flex items-center"},[s("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Una minúscula")]),s("li",{staticClass:"flex items-center"},[s("span",{staticClass:"mr-2"},[a._v("●")]),a._v(" Un número (0 al 9)")])]),s("GxForm",{staticClass:"mt-4 px-4",on:{submit:a.onSubmit}},[s("GxTextFieldPassword",{attrs:{required:"",label:"Nueva contraseña",error:a.passwordCustomError},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),s("GxTextFieldPassword",{attrs:{required:"",label:"Confirmar contraseña",error:a.passwordConfirmationCustomError},model:{value:a.passwordConfirmation,callback:function(t){a.passwordConfirmation=t},expression:"passwordConfirmation"}}),s("GxButton",{staticClass:"mx-auto mt-8",attrs:{loading:a.loading,"loading-success":a.loadingSuccess,type:"submit"}},[a._v("cambiar contraseña")])],1),s("GxTextLink",{staticClass:"text-secondary-300 text-center",attrs:{to:{name:"login"}}},[a._v(" Iniciar sesión ")])],1)],1),s("img",{staticClass:"absolute self-start ml-16 gxGuruDe",attrs:{src:e("bf7e"),alt:"guru","aria-hidden":"true"}})]),a.linkError?s("GxCardModal",{attrs:{headline:"El vínculo ya no es válido","text-body":a.linkError,"card-img":a.$utils.alertImages.Dissapointed,alt:"Error"},scopedSlots:a._u([{key:"actions",fn:function(){return[s("div",{staticClass:" justify-center flex de:mt-8",class:{"justify-end":"mo"===a.$mq}},[s("GxButton",{staticClass:"mr-4",on:{click:a.goTo}},[a._v("aceptar")])],1)]},proxy:!0}],null,!1,3855265880)}):a._e(),a.showSuccessAlert?s("GxCardModal",{key:"Contraseñaactualizada",attrs:{headline:"Contraseña actualizada","card-img":a.$utils.alertImages.Success,alt:"Contraseña actualizada"},on:{close:a.categoryCreatedClose}}):a._e()],1)},i=[],l=(e("96cf"),e("1da1")),c=e("41cd"),d=e("0d9e"),u=e("c181"),m={name:"LoginDefineNewPassword",components:{GxCardCore:c["a"],GxCardModal:d["a"]},data:function(){return{windowHeight:"auto",token:this.$route.query.token,email:this.$route.query.email,loading:!1,loadingSucces:!1,password:"",passwordConfirmation:"",invalidPassword:!0,invalidPasswordConfirmation:!0,passwordCustomError:null,passwordConfirmationCustomError:null,bgImg:e("286f"),errorModal:!1,linkError:null,showSuccessAlert:!1}},watch:{password:function(a){this.passwordCustomError=""},passwordConfirmation:function(a){this.passwordConfirmationCustomError=""}},mounted:function(){var a=this;this.windowHeight=window.document.documentElement.clientHeight+"px";var t=function(){a.windowHeight=window.document.documentElement.clientHeight+"px"};window.addEventListener("resize",t),this.$once("hook:destroyed",(function(){window.removeEventListener("resize",t)}))},methods:{onSubmit:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.password===a.passwordConfirmation){t.next=3;break}return a.passwordConfirmationCustomError="La contraseña no es igual.",t.abrupt("return");case 3:return t.prev=3,a.loading=!0,t.next=7,u["b"].post("/change_password",{email:a.email,reset_password_token:a.token,new_password:a.password});case 7:localStorage.removeItem("gxRecoveryPassword"),a.loading=!1,a.loadingSuccess=!0,a.showSuccessAlert=!0,setTimeout((function(){a.$router.push({name:"login"})}),3e3),t.next=20;break;case 14:t.prev=14,t.t0=t["catch"](3),a.loading=!1,e=a.$utils.parseServerError(t.t0),"El vínculo recibido por correo electrónico ha caducado, o bien ya lo has utilizado. Por favor inténtalo de nuevo."===e?(a.errorModal=!0,a.linkError=e):a.passwordConfirmationCustomError=e,console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[3,14]])})))()},goTo:function(){this.$router.push({name:"login"})}}},f=m,w=(e("eb63"),e("2877")),p=Object(w["a"])(f,n,i,!1,null,"9a46a1e0",null),C=p.exports,x={page:{title:"Cambia tu contraseña",meta:[{name:"Cambia tu contraseña",content:"Formulario para cambiar contraseña"}]},components:{Layout:o["a"],LoginDefineNewPassword:C}},g=x,b=Object(w["a"])(g,s,r,!1,null,null,null);t["default"]=b.exports},bf7e:function(a,t,e){a.exports=e.p+"img/de_002_1_guru.bf6bfa79.svg"},db7b:function(a,t,e){},eb63:function(a,t,e){"use strict";var s=e("db7b"),r=e.n(s);r.a}}]);
//# sourceMappingURL=chunk-199e55ca-legacy.5b289843.js.map