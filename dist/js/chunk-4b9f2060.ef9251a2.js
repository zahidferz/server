(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b9f2060"],{1037:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("PreviewTemplate",{attrs:{typeTemplateProps:e.typeTemplateProps}})},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("LayoutWebMobile",{attrs:{icon:"keyboard_backspace","icon-click-handler":e.goBack}},[s("div",{staticClass:"flex flex-col w-full items-center px-8"},[s("div",{staticClass:"flex flex-col text-xl mt-3"},[s("span",{staticClass:"font-black"},[e._v("Configuración Inicial")])]),s("div",{staticClass:"flex flex-col mt-10"},[s("GxWizard",{attrs:{stepsProp:e.steps,stepActiveProp:2}})],1)]),s("div",{staticClass:"flex flex-col w-full items-start px-8"},[s("div",{staticClass:"flex flex-col text-base mt-12 text-left items-start"},[s("span",{staticClass:"font-black text-left items-start"},[e._v("Personaliza tu catálogo de cuentas: agrega, quita o modifica las cuentas.")])]),s("div",{staticClass:"flex flex-col w-full"},[this.loadingProcessed?s("GxLoader",{staticClass:"mt-20 mb-5"}):e._e()],1),e.ledgerAccounts?s("GxLedgerAccounts",{staticClass:"mt-5 mb-15 w-full",attrs:{accountingFirmNumberProp:e.accountingFirmNumber,clientNumberProp:e.clientNumber,ledgerAccountsProp:e.ledgerAccounts,editCatalog:!0,showCollapsed:!0,showArrowCollapse:!0,isInitial:!0},on:{finishRender:e.finishRender}}):e._e()],1),s("div",{staticClass:"flex fixed w-full bottom-0 border-t h-19 shadow-8 bg-white items-stretch justify-between"},[s("div",{staticClass:"flex flex-col w-full left-0"},[s("div",{staticClass:"flex fixed w-50 inline"},[s("GxButton",{staticClass:"ml-10 mt-4 rounded-md gx-button",attrs:{variant:!0,ghost:!0,disabled:this.loadingProcessed},on:{click:e.goBack}},[e._v(" CANCELAR ")])],1),s("div",{staticClass:"flex fixed w-50 inline right-0"},[s("GxButton",{staticClass:"mr-10 mt-4 gx-button",attrs:{variant:!0,"loading-success":e.loadingSuccess,disabled:this.loadingProcessed},on:{click:e.goNext}},[e._v(" Siguiente ")])],1)])]),e.errorDescription?s("GxCardModal",{attrs:{headline:"Se presentaron algunos errores",caption:e.errorDescription,"card-img":e.$utils.alertImages.Oops,alt:"Error",delayAnimation:""},scopedSlots:e._u([{key:"actions",fn:function(){return[s("div",{staticClass:"flex justify-center mt-4"},[s("GxButton",{on:{click:e.closeModel}},[e._v("ACEPTAR")])],1)]},proxy:!0}],null,!1,3694232332)}):e._e(),e.errorDescriptionTemplate?s("GxCardModal",{attrs:{headline:"Error al importar el archivo","card-img":e.$utils.alertImages.Oops,alt:"Error",delayAnimation:""},scopedSlots:e._u([{key:"htmlTag",fn:function(){return[s("br"),s("a",{staticClass:"font-bold underline",attrs:{href:e.errorDescriptionTemplate,download:""}},[e._v("Descargar reporte de los errores de tu archivo de importación ")])]},proxy:!0},{key:"actions",fn:function(){return[s("div",{staticClass:"flex justify-center mt-4"},[s("GxButton",{on:{click:e.closeModalErrorTemplate}},[e._v("ACEPTAR")])],1)]},proxy:!0}],null,!1,4001282792)}):e._e()],1)},o=[],l=(s("c975"),s("e6cf"),s("42b5")),c=s("dd9b"),n=s("7fc4"),u=s("51b4"),d=s("0d9e"),h=s("0ae0"),p=s("4c6a"),m={name:"PreviewTemplate",components:{LayoutWebMobile:l["a"],GxWizard:c["a"],GxLedgerAccounts:n["a"],GxLoader:u["a"],GxCardModal:d["a"]},data(){return{accountingFirmNumber:null,clientNumber:null,loading:!1,loadingProcessed:!0,error:null,steps:["Elige tu catálogo","Personaliza tu catálogo","Periodo inicial","Saldos iniciales","¡Listo!"],loadingSuccess:!1,ledgerAccounts:null,process:null,processId:null,skipLedgerAccountsProcessStatus:!0,skipLedgerAccounts:!0,errorDescription:"",errorDescriptionTemplate:"",levels:null}},props:{typeTemplateProps:{type:Number,default:1,required:!1}},created(){this.clientNumber=localStorage.getItem("companyNumber"),this.processId=localStorage.getItem("loadLedgerAccountProcessId"),null!==this.processId?(this.skipLedgerAccountsProcessStatus=!1,this.loadingProcessed=!0):(this.loadingProcessed=!0,this.skipLedgerAccounts=!1)},apollo:{getLedgerAccountsProcessStatus:{query:p["s"],variables(){return{processId:this.processId,clientNumber:[this.clientNumber]}},update(e){switch(this.process=null,this.process=e.myAccountingFirms[0].clients[0].runningProcesses[0],this.accountingFirmNumber=e.myAccountingFirms[0].accountingFirmNumber,this.skipLedgerAccountsProcessStatus=!0,this.process.processStatus){case"processing":case"notStarted":this.timeout=setTimeout(()=>{this.skipLedgerAccountsProcessStatus=!1},1500),this.$once("hook:destroyed",()=>{clearTimeout(this.timeout)});break;case"finishedWithErrors":null!==this.process.errors&&(this.errorDescription="",this.process.errors.forEach(e=>{if("ledger_account_file"===e.field)return this.errorDescription="",void(this.errorDescriptionTemplate=e.errorMessage);this.errorDescription+=e.errorMessage+", "})),localStorage.removeItem("loadLedgerAccountProcessId");break;case"finishedOk":this.skipLedgerAccounts=!1,localStorage.getItem("redirectBack")&&(localStorage.removeItem("redirectBack"),this.$router.push({name:"templates"})),this.processId=null,localStorage.removeItem("loadLedgerAccountProcessId");break}},skip(){return this.skipLedgerAccountsProcessStatus},fetchPolicy:"no-cache"},getLedgerAccounts:{query:p["p"],variables(){return{clientNumber:[this.clientNumber]}},update(e){this.accountingFirmNumber=e.myAccountingFirms[0].accountingFirmNumber,this.ledgerAccounts=e.myAccountingFirms[0].clients[0].accounting.chartOfAccounts.ledgerAccounts,this.levels=e.myAccountingFirms[0].clients[0].accounting.chartOfAccounts.levels,0===this.levels&&null===this.processId&&this.$router.push({name:"templates"})},skip(){return this.skipLedgerAccounts},fetchPolicy:"no-cache"}},methods:{async goBack(){let e=this.ledgerAccounts;try{this.loading=!0,this.loadingProcessed=!0,this.ledgerAccounts=null;const t=await this.$apollo.mutate({mutation:h["s"],variables:{accountingFirmNumber:this.accountingFirmNumber,clientNumber:this.clientNumber}});null!==t.data.ledgerAccountDeleteAll.processID&&null===t.data.ledgerAccountDeleteAll.error?(this.skipLedgerAccountsProcessStatus=!0,this.processId=null,this.processId=t.data.ledgerAccountDeleteAll.processID,localStorage.setItem("loadLedgerAccountProcessId",this.processId),localStorage.setItem("redirectBack",!0),this.skipLedgerAccountsProcessStatus=!1):(this.ledgerAccounts=e,this.errorDescription=t.data.ledgerAccountDeleteAll.error.message+" - "+t.data.ledgerAccountDeleteAll.error.details.join(""),this.loading=!1)}catch(t){return this.ledgerAccounts=e,this.errorDescription=this.$utils.parseServerError(t),console.log(this.errorDescription),this.loading=!1,null}},goNext(){this.$router.push({name:"initialPeriod"})},closeModel(){this.errorDescription.indexOf("No tienes cuentas contables para eliminar")>0&&(this.errorDescription="",localStorage.removeItem("redirectBack"),this.processId=null,this.$router.push({name:"templates"})),this.errorDescription=""},closeModalErrorTemplate(){this.errorDescriptionTemplate="",this.processId=null,this.$router.push({name:"templates"})},finishRender(){this.loadingProcessed=!1}}},f=m,g=s("2877"),b=Object(g["a"])(f,i,o,!1,null,null,null),x=b.exports,y={name:"TemplatesView",components:{PreviewTemplate:x},data(){return{}},created(){this.$root.$emit("changeAsideMenu",1)},props:{typeTemplateProps:{type:Number,default:1,required:!1}}},v=y,w=Object(g["a"])(v,r,a,!1,null,null,null);t["default"]=w.exports},"42b5":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return"mo"===e.$mq?s("MqLayout",{key:"layout",staticClass:"flex flex-col bg-white",attrs:{id:"layout",mq:"mo"}},[s("header",{key:"topbar-container",staticClass:"sticky top-0 z-20 bg-white top-bar",class:{"shadow-5":e.tabs,"shadow-3":e.hasScrolled}},[s("transition",{key:"default-transition",attrs:{name:"input-fade",mode:"out-in"},on:{"after-enter":e.focusMobileSearch}},[e.mobileSearch?s("nav",{key:"search-container",staticClass:"flex items-center p-4 h-14 justify-left gx-h5",class:[e.onSearchClasses]},[s("button",{staticClass:"flex items-center mr-4 leading-none focus:outline-none"},[s("GxIcon",{attrs:{icon:"close"},on:{click:function(t){return t.stopPropagation(),e.cancelMobileSearch(t)}}})],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search,expression:"search",modifiers:{trim:!0}}],ref:"mobileSearch",staticClass:"w-full leading-none bg-transparent focus:outline-none gxMobileSearchInput",class:e.placeholderColor,attrs:{placeholder:e.placeholder,autofocus:"",type:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):s("nav",{key:"default-topbar",staticClass:"flex justify-start w-full p-4 h-14 items-bottom"},[!e.mobileSearch&&e.breadcrumb?s("GxBreadcrumb",{key:"GxBreadcrumb",attrs:{classes:e.hasScrolled?e.breadcrumbClassesWithScroll:e.breadcrumbClassesWithoutScroll,"has-scrolled":e.hasScrolled}},[s("h1",{staticClass:"font-bold gx-h5"},[e._v(e._s(e.title))])]):e._e(),e.mobileSearch||e.breadcrumb?e._e():s("h1",{key:"title-container",staticClass:"flex items-center font-bold justy-left items-bottom gx-h5"},[e.iconClickHandler?s("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon,"html-tag":"button"},on:{click:function(t){return t.stopPropagation(),e.iconClickHandler(t)}}}):e.hasDrawer&&!e.iconClickHandler?s("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon,"html-tag":"button"},on:{click:function(t){t.stopPropagation(),e.drawerLeft=!e.drawerLeft}}}):s("GxIcon",{staticClass:"mr-4",class:[e.iconClasses],staticStyle:{"font-size":"20px"},attrs:{icon:e.icon}}),e._t("title",[s("span",[e._v(" "+e._s(e.title)+" ")])])],2),s("div",{key:"right-icons",staticClass:"flex items-center ml-auto gx-h5"},[e._t("topbar-right"),e.hasSearch?s("GxIcon",{key:"search-icon",staticClass:"leading-none icon-button focus:outline-none",attrs:{"html-tag":"button",icon:"search"},on:{click:function(t){e.mobileSearch=!0}}}):e._e(),e.hasDrawerRight?s("GxIcon",{key:"right-drawer",staticClass:"ml-4 leading-none icon-button",attrs:{"html-tag":"button",icon:"more_vert"},on:{click:function(t){e.drawerRight=!e.drawerRight}}}):e._e()],2)],1)]),e._t("header2"),e.tabs?s("div",{key:"tabs-container"},[e._t("tabs")],2):e._e()],2),e.hasDrawer?s("TopBarLeftDrawer",{key:"TopBarLeftDrawer",attrs:{open:e.drawerLeft,"a-drawer-open":e.drawerOPen},on:{open:function(t){e.drawerOPen=!0},close:function(t){return e.onCloseDrawer("drawerLeft")}}}):e._e(),e.hasDrawerRight?s("TopBarRightDrawer",{key:"TopBarRightDrawer",attrs:{open:e.drawerRight,"a-drawer-open":e.drawerOPen},on:{open:function(t){e.drawerOPen=!0},close:function(t){return e.onCloseDrawer("drawerRight")}}}):e._e(),s("div",{staticClass:"flex flex-col flex-grow",class:{"gx-padding-menu pb-14":e.withPaddingBottom},attrs:{id:"mobileMainContent"}},[e._t("default",null,null,{hasScrolled:e.hasScrolled,search:e.search})],2)],1):s("div",{staticClass:"flex flex-col flex-grow",class:{"pb-4":e.withPaddingBottom}},[e._t("default")],2)},a=[],i=(s("cca6"),s("2532"),s("5319"),s("841c"),s("524e")),o=s("f21d"),l=s("6f0d"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"flex-grow flex justify-start"},[s("RouterLink",{staticClass:"flex justify-start items-center gx-h5",attrs:{tag:"li",to:{name:"dashboard"}}},[s("GxIcon",{class:[e.classes.icon],attrs:{icon:"dashboard"}}),s("GxIcon",{staticClass:"gxNext mx-1",class:[e.classes.next],attrs:{icon:"navigate_next"}})],1),e._l(e.matchedRoutes,(function(t,r){return s("RouterLink",{key:t.name,staticClass:"flex justify-start items-center  gx-h5",attrs:{tag:"li",to:{name:t.name}}},[t.meta.icon?[s("GxIcon",{class:[t.name===e.$route.name||t.redirect.name===e.$route.name?e.classes.active:e.classes.icon],attrs:{icon:t.meta.icon}}),r!==e.matchedRoutes.length-1&&e.matchedRoutes[r+1].meta.icon?s("GxIcon",{staticClass:"mx-1  gxNext",class:[e.classes.next],attrs:{icon:"navigate_next"}}):e._e()]:e._e()],2)})),s("div",{staticClass:"ml-4 title"},[e._t("default")],2)],2)},n=[],u=(s("fb6a"),{name:"GxBreadcrumb",components:{GxIcon:i["a"]},props:{hasScrolled:{type:Boolean,default:!1},classes:{type:Object,default:null}},computed:{matchedRoutes(){return this.$route.matched.slice(1)}}}),d=u,h=(s("8e44"),s("2877")),p=Object(h["a"])(d,c,n,!1,null,"3157a3f7",null),m=p.exports,f={name:"LayoutWebMobile",components:{TopBarLeftDrawer:o["a"],TopBarRightDrawer:l["a"],GxBreadcrumb:m,GxIcon:i["a"]},props:{dark:{type:Boolean,default:!1},breadcrumb:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},onSearchClasses:{type:String,default:"text-black"},placeholder:{type:String,default:"Buscar"},hasDrawer:{type:Boolean,default:!1},hasDrawerRight:{type:Boolean,default:!1},hasStickyElement:{type:Boolean,default:!1},title:{type:String,default:null},icon:{type:String,default:""},iconClassWithoutScroll:{type:String,default:"text-black"},iconClassWithScroll:{type:String,default:"text-black"},topBarClassWithScroll:{type:String,default:""},topBarClassWithoutScroll:{type:String,default:"text-black bg-white"},iconClickHandler:{type:Function,default:null},iconRight:{type:String,default:null},iconRightClickHandler:{type:Function,default:null},withPaddingBottom:{type:Boolean,default:!0},noHorizontalPadding:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},breadcrumbClassesWithScroll:{type:Object,default:()=>({icon:"text-gray-700",next:"text-black",active:"text-primary"})},breadcrumbClassesWithoutScroll:{type:Object,default:()=>({icon:"text-gray-700",next:"text-black",active:"text-primary"})},searchTerm:{type:String,default:""}},data(){return{hasScrolled:!1,activeDeskTopBarMenu:null,drawerLeft:!1,mobileSearch:!1,drawerRight:!1,customTopBar:!1,drawerOPen:!1,search:""}},computed:{hasTopBar(){return this.title||this.icon||this.iconRight||this.hasDrawer},iconClasses(){return this.hasScrolled?this.iconClassWithScroll:this.iconClassWithoutScroll},topBarClasses(){return this.hasScrolled?(this.topBarClassWithScroll.includes("bg-"),this.topBarClassWithScroll):this.topBarClassWithoutScroll?this.topBarClassWithoutScroll:""},placeholderColor(){return"bg-primary-500 text-white"===this.onSearchClasses?"placeholder-bg-dark":"placeholder-bg-white"}},watch:{search(e){"mo"===this.$mq&&this.$emit("search",e)}},reactiveProvide:{name:"topBarSearch",include:["search"]},mounted(){this.$route.query.searchTerm&&this.hasSearch&&this.setMobileSearch(this.$route.query.searchTerm),this.$route.query.drawerRight&&this.$nextTick(()=>{this.drawerRight=!0;let e=Object.assign({},this.$route.query);delete e.drawerRight,this.$router.replace({query:e})});let e=0,t=!1;"de"===this.$mq?document.getElementById("gxDeMain")&&document.getElementById("gxDeMain").addEventListener("scroll",s=>{e=s.target.scrollTop,t||(window.requestAnimationFrame(()=>{this.hasScrolled=e>0,t=!1}),t=!0)}):window.addEventListener("scroll",s=>{e=window.scrollY,t||(window.requestAnimationFrame(()=>{this.hasScrolled=e>0,t=!1}),t=!0)})},created(){this.searchTerm&&(this.search=this.searchTerm,this.mobileSearch=!0)},methods:{onCloseDrawer(e){this[e]=!1,this.drawerOPen=!1},cancelMobileSearch(){this.search="",this.mobileSearch=!1},focusMobileSearch(){this.$refs.mobileSearch&&this.$refs.mobileSearch.focus()},onActiveMenu(e){this.activeDeskTopBarMenu=e},showCustomTopBar(){this.customTopBar=!0},hideCustomTopBar(){this.customTopBar=!1},setMobileSearch(e=""){this.search=e,this.mobileSearch=!0}}},g=f,b=(s("f320"),Object(h["a"])(g,r,a,!1,null,"f3d6798e",null));t["a"]=b.exports},"50bf":function(e,t,s){},"597e":function(e,t,s){},"60da":function(e,t,s){"use strict";var r=s("83ab"),a=s("d039"),i=s("df75"),o=s("7418"),l=s("d1e7"),c=s("7b0b"),n=s("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||a((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},s=Symbol(),a="abcdefghijklmnopqrst";return e[s]=7,a.split("").forEach((function(e){t[e]=e})),7!=u({},e)[s]||i(u({},t)).join("")!=a}))?function(e,t){var s=c(e),a=arguments.length,u=1,d=o.f,h=l.f;while(a>u){var p,m=n(arguments[u++]),f=d?i(m).concat(d(m)):i(m),g=f.length,b=0;while(g>b)p=f[b++],r&&!h.call(m,p)||(s[p]=m[p])}return s}:u},"8e44":function(e,t,s){"use strict";var r=s("50bf"),a=s.n(r);a.a},cca6:function(e,t,s){var r=s("23e7"),a=s("60da");r({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},dd9b:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex"},e._l(this.steps,(function(t,r){return s("div",{key:r,staticClass:"flex flex-col items-center w-41"},[s("div",{staticClass:"flex justify-between w-41"},[s("div",{staticClass:"flex flex-col w-18 float-right ",class:{invisible:0===r,"bg-primary":e.stepActive>=r+1,"bg-gray-300":e.stepActive!=r+1&&!e.stepActive>=r+1},staticStyle:{"margin-top":"0.625rem",height:"1.5px"}}),s("div",{staticClass:"flex flex-col w-6 h-6 pt-px border-solid border-2 border-primary rounded-full text-center",class:{"bg-primary":e.stepActive-1>=r+1}},[e.stepActive-1>=r+1?e.stepActive-1>=r+1?s("GxIcon",{staticClass:"rounded-full text-white pt-1 ",attrs:{icon:"done"}}):e._e():s("span",{staticClass:" text-primary font-black"},[e._v(" "+e._s(r+1))])],1),s("div",{staticClass:"flex w-18 float-right h-1",class:{invisible:r+1===e.getMaxSteps,"bg-primary":e.stepActive>=r+1,"bg-gray-300":e.stepActive!=r+1&&!e.stepActive>=r+1},staticStyle:{"margin-top":"0.625rem",height:"1.5px"}})]),s("div",{staticClass:"flex flex-col mt-2 text-center",class:{"text-primary":e.stepActive===r+1||e.stepActive>=r+1,"font-black":e.stepActive===r+1}},[e._v(e._s(t))])])})),0)},a=[],i=s("524e"),o={name:"GxWizard",data(){return{steps:null,stepActive:0}},props:{stepsProp:{type:Array,default:null},stepActiveProp:{type:Number,default:null}},components:{GxIcon:i["a"]},computed:{getMaxSteps(){return this.steps.length}},created(){this.steps=this.stepsProp,this.stepActive=this.stepActiveProp},methods:{nextStep(){this.stepActive++},backStep(){this.stepActive--}}},l=o,c=s("2877"),n=Object(c["a"])(l,r,a,!1,null,null,null);t["a"]=n.exports},f320:function(e,t,s){"use strict";var r=s("597e"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-4b9f2060.ef9251a2.js.map