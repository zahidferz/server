(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56125465"],{"61e5":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("IncomeStatement")},s=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col w-full px-10 justify-center pb-15"},[i("div",{staticClass:"flex flex-col w-full wrapper"},[i("div",{staticClass:"flex title text-2xl"},[e._v(" Estado de Resultados ")]),i("div",{staticClass:"flex -ml-4 juditfy-between"},[i("div",{staticClass:"flex w-full"},[i("div",{staticClass:"flex w-51"},[e.beginningPeriod&&e.endingPeriod?i("GxPeriodsDropdown",{ref:"PeriodInit",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período inicial",label:"Período inicial","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodInit}}):e._e()],1),i("div",{staticClass:"w-51 -ml-4"},[e.beginningPeriod&&e.endingPeriod?i("GxPeriodsDropdown",{ref:"PeriodEnd",staticClass:"mt-2",attrs:{beginningPeriod:e.beginningPeriod,endingPeriod:e.endingPeriod,placeholder:"Período final",label:"Período final","allow-empty":!1},on:{selectedPeriod:e.selectedPeriodEnd}}):e._e()],1),i("div",{staticClass:"w-51 -ml-4"},[i("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Mostrar cuentas en ceros",label:"Mostrar cuentas en ceros",options:["No","Si"]},model:{value:e.showZeroBalanceAccounts,callback:function(t){e.showZeroBalanceAccounts=t},expression:"showZeroBalanceAccounts"}})],1),i("div",{staticClass:"w-51 -ml-4 hidden"},[i("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",placeholder:"Mostrar porcentajes",label:"Mostrar porcentajes",options:["No","Si"]},model:{value:e.showPercentages,callback:function(t){e.showPercentages=t},expression:"showPercentages"}})],1)]),i("div",{staticClass:"flex"},[this.beginningPeriod?i("GxButtonActions",{staticClass:"mt-5",attrs:{buttonsActions:e.getButtonsActions},on:{downloadPDF:e.downloadPDF,downloadExcel:e.downloadExcel}}):e._e()],1)]),this.$apollo.queries.getIncomeStatement.loading?i("div",{staticClass:"flex w-full mt-10"},[i("GxLoader")],1):e._e(),e.incomeStatement?i("div",{staticClass:"flex w-full -mt-4"},[i("GxIncomeStatement",{attrs:{incomeStatement:e.incomeStatement,periodId:e.endingPeriodId}})],1):e._e()])])},l=[],a=(i("fb6a"),i("a9e3"),i("d3b7"),i("25f0"),i("b8ed")),r=i("f26c"),c=i("e8f2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col w-full rounded-lg border-1 border-incomeStatementBorder"},[i("div",{staticClass:"flex flex-row justify-between rounded-t-lg h-7.5 bg-ledgerAccountTypes-expenses"},[i("div",{staticClass:"flex w-full"}),i("div",{staticClass:"flex items-center text-white text-sm"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNamePeriod+" "+e.getYear))]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" Acomulado "+e._s(e.getYear))]),i("div",{staticClass:"flex w-42"})])]),i("div",{staticClass:"flex flex-col w-full py-7.5"},[e.incomeStatement.grossProfitAccounts.sales.length>0?i("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Ventas (Ingresos)")]):e._e(),e._l(e.incomeStatement.grossProfitAccounts.sales,(function(t){return i("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[i("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),i("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.grossProfitAccounts.costOfGoodsSold.length>0?i("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Costo de Ventas (Egresos)")]):e._e(),e._l(e.incomeStatement.grossProfitAccounts.costOfGoodsSold,(function(t){return i("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[i("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),i("div",{staticClass:"flex w-42"})])])})),i("div",{staticClass:"flex w-full font-bold pl-4"},[i("div",{staticClass:"flex w-full pl-8 justify-end text-xs font-bold"},[e._v(" Utilidad Bruta ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end"},[i("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.grossProfitAccounts.periodGrossProfit.toString()))+" ")])]),i("div",{staticClass:"flex w-51 justify-end"},[i("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.grossProfitAccounts.accumulatedGrossProfit.toString())))])]),i("div",{staticClass:"flex w-42"})])]),i("div",{staticClass:"flex w-full font-bold h-10"}),e.incomeStatement.operatingCostsAccounts.otherIncome.length>0?i("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Otros Ingresos (Ingresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.otherIncome,(function(t){return i("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[i("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),i("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.operatingCostsAccounts.expenses.length>0?i("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Gastos (Egresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.expenses,(function(t){return i("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[i("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),i("div",{staticClass:"flex w-42"})])])})),e.incomeStatement.operatingCostsAccounts.otherExpenses.length>0?i("div",{staticClass:"flex w-full font-bold pl-4"},[e._v("Otros Gastos (Egresos)")]):e._e(),e._l(e.incomeStatement.operatingCostsAccounts.otherExpenses,(function(t){return i("div",{key:t.ledgerAccountId,staticClass:"flex flex-row justify-between h-6 items-center"},[i("div",{staticClass:"flex w-full pl-8"},[e._v(" "+e._s(t.name)+" ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.periodBalance.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(t.accumulatedBalance.toString())))]),i("div",{staticClass:"flex w-42"})])])})),i("div",{staticClass:"flex w-full font-bold pl-4"},[i("div",{staticClass:"flex w-full pl-8 justify-end text-xs font-bold"},[e._v(" Gastos de Operación ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end"},[i("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.operatingCostsAccounts.periodOperatingCosts.toString()))+" ")])]),i("div",{staticClass:"flex w-51 justify-end"},[i("div",{staticClass:"flex font-bold border-t-1 w-28 border-ledgerAccountTypes-assets justify-end"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.operatingCostsAccounts.accumulatedOperatingCosts.toString())))])]),i("div",{staticClass:"flex w-42"})])])],2),i("div",{staticClass:"flex flex-row justify-between rounded-b-lg h-7.5 bg-incomeStatementBorder"},[i("div",{staticClass:"flex w-full  justify-end font-bold items-center"},[e._v(" Utilidad o Pérdida del Ejercicio ")]),i("div",{staticClass:"flex items-center text-xs"},[i("div",{staticClass:"flex w-37 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.periodProfitOrLoss.toString()))+" ")]),i("div",{staticClass:"flex w-51 justify-end font-bold"},[e._v(" "+e._s(e.getNumberFormat(e.incomeStatement.accumulatedProfitOrLoss.toString()))+" ")]),i("div",{staticClass:"flex w-42"})])])])},u=[],f=(i("caad"),i("ac1f"),i("2532"),i("5319"),{name:"GxIncomeStatement",props:{incomeStatement:{type:Object,default:null,required:!0},periodId:{type:Number,default:0,required:!0}},computed:{getNamePeriod:function(){var e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e[Number(this.periodId.toString().slice(4))-1]},getYear:function(){return this.periodId.toString().slice(0,4)}},methods:{getNumberFormat:function(e){return""===e||"0"===e||"0.00"===e?"-":e.includes(".")?e.replace(/^\d+\.$/,"$&00").replace(/\d(?=(\d{3})+\.)/g,"$&,"):(e=e.replace(/^\d+\.$/,"$&00").replace(/\.\d$/,"0$&0").replace(/\d+\.$/,"$&00").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),"0"==e?"":"0"==e||""==e?e:e+".00")}}}),m=f,g=i("2877"),h=Object(g["a"])(m,d,u,!1,null,null,null),p=h.exports,b=i("4c6a"),x={name:"IncomeStatement",data:function(){return{incomeStatement:null,beginningPeriod:null,endingPeriod:null,beginningPeriodId:null,endingPeriodId:null,showZeroBalanceAccounts:"No",showPercentages:"No",skipIncomeStatement:!0,typeFileDownload:""}},components:{GxPeriodsDropdown:a["a"],GxDropdown:c["a"],GxButtonActions:r["a"],GxIncomeStatement:p},apollo:{getIncomeStatement:{query:b["k"],variables:function(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,showZeroBalanceAccounts:"Si"===this.showZeroBalanceAccounts,showPercentages:"Si"===this.showPercentages,assumeLastAnnualPeriodIsClosed:!0}},update:function(e){this.incomeStatement=e.myAccountingFirms[0].clients[0].accounting.reports.incomeStatement},skip:function(){return this.skipIncomeStatement},fetchPolicy:"no-cache"},getIncomeStatementPDFOrExcel:{query:b["l"],variables:function(){return{clientNumber:[localStorage.getItem("clientNumber")],beginningPeriodId:this.beginningPeriodId,endingPeriodId:this.endingPeriodId,showZeroBalanceAccounts:"Si"===this.showZeroBalanceAccounts,showPercentages:"Si"===this.showPercentages,assumeLastAnnualPeriodIsClosed:!0,fileType:this.typeFileDownload}},update:function(e){window.open(e.myAccountingFirms[0].clients[0].accounting.reports.incomeStatementExport.url,"Download"),this.typeFileDownload=""},skip:function(){return""===this.typeFileDownload},fetchPolicy:"no-cache"}},computed:{getButtonsActions:function(){var e=[{name:"Descargar balance general en Excel",icon:"cloud_download",type:"method",action:"downloadExcel"},{name:"Descargar balance general en PDF",icon:"cloud_download",type:"method",action:"downloadPDF"}];return e}},created:function(){var e=this;this.beginningPeriod=localStorage.getItem("beginningPeriod"),this.endingPeriod=localStorage.getItem("endingPeriod"),localStorage.getItem("periodDefault")?(this.beginningPeriodId=Number(localStorage.getItem("periodDefault")),this.endingPeriodId=Number(localStorage.getItem("periodDefault"))):(this.beginningPeriodId=this.endingPeriod,this.endingPeriodId=this.endingPeriod),setTimeout((function(){e.$refs.PeriodInit.changeValue(e.beginningPeriodId),e.$refs.PeriodEnd.changeValue(e.endingPeriodId)}),50)},methods:{selectedPeriodInit:function(e){this.skipIncomeStatement=!0,this.incomeStatement=null,(e>this.endingPeriodId||e.toString().slice(0,4)!==this.endingPeriodId.toString().slice(0,4))&&(this.$refs.PeriodEnd.changeValue(e),this.endingPeriodId=e),this.beginningPeriodId=e,this.skipIncomeStatement=!1},selectedPeriodEnd:function(e){this.skipIncomeStatement=!0,this.incomeStatement=null,(e<this.beginningPeriodId||e.toString().slice(0,4)!==this.beginningPeriodId.toString().slice(0,4))&&(this.beginningPeriodId=e,this.$refs.PeriodInit.changeValue(e)),this.endingPeriodId=e,this.skipIncomeStatement=!1},downloadPDF:function(){this.typeFileDownload="pdf"},downloadExcel:function(){this.typeFileDownload="excel"}}},w=x,v=Object(g["a"])(w,o,l,!1,null,null,null),P=v.exports,C={name:"IncomeStatementView",components:{IncomeStatement:P}},S=C,y=Object(g["a"])(S,n,s,!1,null,null,null);t["default"]=y.exports},b8ed:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("GxDropdown",{staticClass:"mt-2",attrs:{"watch-value":"",options:e.listPeriods,placeholder:e.placeholder,label:e.label,"allow-empty":!1},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},s=[],o=(i("c975"),i("fb6a"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("498a"),i("e8f2")),l={name:"GxPeriodsDropdown",data:function(){return{periodId:null,period:null,selected:"",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],listPeriods:null}},props:{defaultYear:{type:Number,default:null,required:!1},defaultMonth:{type:Number,default:null,required:!1},beginningPeriod:{type:String,default:null,required:!0},endingPeriod:{type:String,default:null,required:!0},label:{type:String,default:null},placeholder:{type:String,default:null}},components:{GxDropdown:o["a"]},watch:{selected:function(e){if(e){var t=e.split(" ");this.$emit("selectedPeriod",Number(t[1].trim()+"0"+(this.months.indexOf(t[0].trim())+1).toString().slice(-2)))}}},created:function(){this.listPeriods=this.getListPeriods(),null!==this.defaultYear&&null!==this.defaultMonth&&(this.selected=this.months[this.defaultMonth-1]+" "+this.defaultYear)},methods:{getListPeriods:function(){var e=Number(this.beginningPeriod.toString().substring(0,4)),t=Number(this.beginningPeriod.toString().substring(4)),i=Number(this.endingPeriod.toString().substring(0,4)),n=Number(this.endingPeriod.toString().substring(4)),s=new Array;while(e<=i){for(0;t<=(e===i?n:12);t++)s.push(this.months[t-1]+" "+e);t=1,e++}return s},changeValue:function(e){e=e.toString(),this.selected=this.months[Number(e.slice(4))-1]+" "+e.slice(0,4)}}},a=l,r=i("2877"),c=Object(r["a"])(a,n,s,!1,null,null,null);t["a"]=c.exports},f26c:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative"},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:this.showItems,expression:"this.showItems"}],staticClass:"mt-4 absolute border border-gray-700 rounded-lg shadow-4 right-4 origin-top-right text-left z-1"},[i("div",{staticClass:"whitespace-no-wrap bg-white rounded-lg shadow-lg cursor-pointer"},[i("div",{staticClass:"border-gray-200 py-1.5"},e._l(this.buttonsActions,(function(t){return i("div",{key:t.name,staticClass:"flex content-center h-7.5 text-gray-700 hover:bg-otherOptions-hover active:bg-otherOptions-click align-middle px-2 py-1",on:{click:function(i){return e.clickMenuOption(t)}}},[i("GxIcon",{staticClass:"align-middle ml-1.5 mr-1.5 pr-1 pt-px",style:{fontSize:"19px"},attrs:{icon:t.icon}}),i("span",{staticClass:"align-middle pr-1.5 text-sm"},[e._v(" "+e._s(t.name))])],1)})),0)])])]),i("div",{staticClass:"flex flex-col content-center justify-center rounded-lg w-7.5 h-7.5 text-center text-gray-500 border-gray-500 border-1 cursor-pointer hover:bg-otherOptions-hover active:bg-otherOptions-click bg-white",on:{click:this.clickMenu}},[i("input",{ref:"uploadFileButtonActions",staticClass:"hidden",attrs:{type:"file",id:"uploadFileButtonActions",accept:e.getExtensionsList},on:{change:function(t){return e.addFileButton(t)}}}),e._m(0)])],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex justify-center pt-px pl-px"},[i("span",{staticClass:"text-2xs"},[e._v("•••")])])}],o=(i("b0c0"),i("ac1f"),i("5319"),i("96cf"),i("1da1")),l=i("524e"),a={name:"GxButtonActions",data:function(){return{showItems:!1,methodFile:"",extension:""}},props:{buttonsActions:{Type:Array,default:null}},components:{GxIcon:l["a"]},computed:{getExtensionsList:function(){return""!==this.extension?this.extension:".*"}},mounted:function(){var e=this,t=function(t){e.$el.contains(t.target)||(e.showItems=!1)};document.addEventListener("click",t),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("click",t)}))},methods:{clickMenu:function(){this.showItems=!this.showItems},clickMenuOption:function(e){var t=this;switch(this.methodFile="",this.extension="",e.type){case"method":this.$emit(e.action);break;case"link":window.open(e.action,"_blank");break;case"download":window.open(e.action,"Download");break;case"file":this.methodFile=e.action,this.extension=e.additionalData,setTimeout((function(){t.$refs.uploadFileButtonActions.click(),t.showItems=!1}),10);break}this.showItems=!1},addFileButton:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.file=e.target.files[0],t.getBase64();case 2:case"end":return i.stop()}}),i)})))()},getBase64:function(){var e=this;this.fileName=this.file.name,this.loadingFile=!0;var t=new FileReader;t.onloadend=function(){e.fileBase64=t.result.replace(/^data:.+;base64,/,""),e.$emit(e.methodFile,e.fileBase64,e.fileName),e.methodFile="",e.extension=""},t.readAsDataURL(this.file)}}},r=a,c=i("2877"),d=Object(c["a"])(r,n,s,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-56125465-legacy.711d9a16.js.map